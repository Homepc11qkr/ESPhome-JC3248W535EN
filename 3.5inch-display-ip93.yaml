# 2025_0405_1548_54 update
api:
  encryption:
    key: "9gn0oyn0We23zsih3l6MHryUa1vvjaRLcdW6p24OM0o="
  on_client_connected:
    - if:
        condition:
          lambda: 'return (0 == client_info.find("Home Assistant"));'
        then:
          - wifi.enable:   
          - lvgl.widget.show: ap_connected #wifi_connected
          - lvgl.widget.hide: ap_disconnected # wifi_disconnected
             

  on_client_disconnected:
    - if:
        condition:
          lambda: 'return (0 == client_info.find("Home Assistant"));'
        then:
          - lvgl.widget.hide: ap_connected #wifi_connected
          - lvgl.widget.show: ap_disconnected # wifi_disconnected
ota:
  - platform: esphome
    password: "59773ca1c89f95aee4fca94f8ad49eae"

wifi:
  networks:
    - ssid: !secret wifi_ssid
      password: !secret wifi_password
      bssid: "58:86:94:2A:4C:6C" # AX8004M 58:86:94:2A:4C:6C
      # bssid: "58:86:94:88:E3:70" # A3-MU  58:86:94:88:E3:70
      manual_ip:
        static_ip: 192.168.0.93
        gateway: 192.168.0.1
        subnet: 255.255.255.0
        dns1: 8.8.8.8
        dns2: 8.8.4.4

  ap:
    ssid: "Fallback_AP"  # 연결 실패 시 생성될 AP 이름
    password: "fallback_password"


captive_portal:
#################  =======================  wifi 연결후  화면보이게 작업 영역 ==============  
substitutions:
  update_date: "2025_0405_1135_45"
  esphome_version: "sensor.3_display_ip93_esphome_version"
  font_characters: " ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#%'()+,-./:;<=>?@[]_{|}°²³↑↓♬⊙앰프불계가거고경과관괄구금기나날남내냉너니늘다대데더도동드등라량러력로륨리릴마많맑매먼메명모목몰문미밖발방버번베보복볼북블비쁨사샤서선세센소속수스습시식신실씨아악안알앞어없에엘영오온옴옷외용우워원월위으음이인일자작장재저적전제조존좋주집체초최출침카커컴콜쾌탁탠터토통튼파팬폭풍퓨피한향험현호화흐름또는천둥개박무황강돌홈지정후치텍족성확람디택설청년은밤림눈바달난환"
  font_info_characters: " ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#%'()+,-./:;<=>?@[]_{|}°²³↑↓♬⊙가나다라서에여영오외용우원월음절제종합부산텍린공휴탄네반모임머님광추석연글크힘호짜년생결혼념후정하대경도확민국흥덕로길디수성치통구인기날일보동세금스신고어사복작시개천한리마홈현충끝번"
  date_characters: " ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#%'()+,-./:;<=>?@[]_{|}°²³↑↓♬⊙월화수목금토일년요주야오전후"
  # ---------------------------------------------------------------
  entity_id_energy_meter_power: "sensor.power_meter_2port_power_a"   #  마이하우스 전력사용량

  entity_id_light_bookroom_sw2: "switch.seojae_bul_left" # 
  entity_id_light_bookroom_sw2_name: "서재불"

  entity_id_computer_switch: "switch.pc_socket_1"
  entity_id_computer_switch_name: "pc_on"
  
  entity_id_monitor_plug_switch: "switch.moniteo_switch_1"
  entity_id_monitor_plug_switch_name: "pc_off"

  entity_id_computer_amp_on_esp32: "switch.esp32_c3_supermini_ip55_sound_amp_on" # switch.esp32_c3_supermini_ip55_sound_amp_on"
  entity_id_computer_amp_off_esp32: "switch.esp32_c3_supermini_ip55_sound_usb_off" #switch.esp32_c3_supermini_ip55_sound_usb_off"
  entity_id_weather_daily_forecast_home: "sensor.weather_daily_forecast_wn_home" # 2025_0322_1523_14
  entity_id_home_temperature_feels: "sensor.wn_home_temperature_feels_like" # sensor.cegamondo # 체감온도 sensor.naver_weather_todayfeeltemp_1
  entity_id_weather_nowweather_Current1: "weather.wn_home" # 
  entity_id_home_current_condition_wn: "sensor.wn_home_current_condition"
  
  # ----------------------- 전등 =============================
  entity_id_lbl_btn_light_1: "light.ttlto485s3_ip85_light_living_room" ### 거실불
  entity_id_lbl_btn_light_name_1: "거실불"
  entity_id_lbl_btn_light_2: "light.ttlto485s3_ip85_light_living_room2" ### 거실불2
  entity_id_lbl_btn_light_name_2: "거실불2"
  entity_id_lbl_btn_light_3: "light.ttlto485s3_ip85_light_bogdo" ### 복도불
  entity_id_lbl_btn_light_name_3: "복도불"
  entity_id_lbl_btn_light_4: "light.ttlto485s3_ip85_light_front" ### 앞불
  entity_id_lbl_btn_light_name_4: "앞불"
  entity_id_lbl_btn_light_5: "light.ttlto485s3_ip85_light_sofa" ### 소파불
  entity_id_lbl_btn_light_name_5: "소파불"
  entity_id_lbl_btn_light_6: "switch.bogdo_hwajangsil_switch_2" ### 복도샤워불
  entity_id_lbl_btn_light_name_6: "복도샤워불"
  entity_id_lbl_btn_light_7: "switch.jageunbang_jeondeung_switch_2" ### 작은방불
  entity_id_lbl_btn_light_name_7: "작은방불"
  entity_id_lbl_btn_light_8: "switch.jubang_switch_2" ### 주방불
  entity_id_lbl_btn_light_name_8: "주방불"
  entity_id_lbl_btn_light_9: "switch.jubang_switch_1" ### 식탁불
  entity_id_lbl_btn_light_name_9: "식탁불"
  entity_id_lbl_btn_light_10: "switch.hwajangdae_switch_2" ###  안방불
  entity_id_lbl_btn_light_name_10: "안방불"
  entity_id_lbl_btn_light_11: "switch.hwajangdae_switch_1" ###  화장대
  entity_id_lbl_btn_light_name_11: "화장대"
  entity_id_lbl_btn_light_12: "switch.cimdae_bul_left_2" ###  침대불
  entity_id_lbl_btn_light_name_12: "침대불"
  entity_id_lbl_btn_light_13: "switch.anbang_hwajangsil_switch_2" ###  안방샤워불
  entity_id_lbl_btn_light_name_13: "안방샤워불"
  entity_id_lbl_btn_light_14: "switch.dooropen_socket_1" ###  현관문열기
  entity_id_lbl_btn_light_name_14: "현관문열기"
  entity_id_lbl_btn_light_15: "switch.sonoff_100173eaad" ###  엘베콜
  entity_id_lbl_btn_light_name_15: "엘베콜"
  entity_id_lbl_btn_light_16: "switch.hyeongwanilgwalsodeung_zigbee_left" ###  일괄소등
  entity_id_lbl_btn_light_name_16: "일괄소등"
# =====================================================  
  entity_id_lbl_btn_switch_1: "switch.seojae_bul_left"
  entity_id_lbl_btn_switch_name_1: "서재불"

# =====================================================  

#  # substitutions:
  entity_id_lbl_btn_climate_1: "climate.ttlto485s3_ip85_boiler_big_room"
  entity_id_lbl_btn_climate_name_1: "안방보일러"
 
  entity_id_lbl_btn_climate_2: "climate.ttlto485s3_ip85_boiler_living_room"
  entity_id_lbl_btn_climate_name_2: "거실보일러"

  entity_id_lbl_btn_climate_3: "climate.ttlto485s3_ip85_boiler_book_room"
  entity_id_lbl_btn_climate_name_3: "서재보일러"

  entity_id_lbl_btn_climate_4: "climate.ttlto485s3_ip85_boiler_small_room"
  entity_id_lbl_btn_climate_name_4: "작방보일러" 
# =====================================================  
# =====================================================  

esphome:
  name: 3-display-ip93  # 이름 지정 변경
  friendly_name: 3-display-ip  # 이름 지정 변경
  platformio_options:
    upload_speed: 921600
    board_build.flash_mode: dio
    board_build.f_flash: 80000000L
    board_build.f_cpu: 240000000L

esp32:
  board: esp32-s3-devkitc-1 # 기본 설치 이름
  flash_size: 16MB
  partitions: "default_16MB.csv" # 파티션 설정후 usb로 install
  framework:
    type: esp-idf
    # ------------------- esphome 12.2,3,4 버전에러 대응
    # version: 4.4.8
    # platform_version: 5.4.0
    # ------------------- esphome 12.2 버전에러 대응    
    sdkconfig_options:
      CONFIG_ESP32S3_DEFAULT_CPU_FREQ_240: "y"
      CONFIG_ESP32S3_DATA_CACHE_64KB: "y"
      CONFIG_ESP32S3_DATA_CACHE_LINE_64B: "y"
      CONFIG_SPIRAM_FETCH_INSTRUCTIONS: y
      CONFIG_SPIRAM_RODATA: y

psram:
  mode: octal # 파티션 설정후 usb로 install
  speed: 80MHz # 120mhz is not supported and falls back to 40mhz # 파티션 설정후 usb로 install

# Enable logging
logger:
  level: INFO
  baud_rate: 921600 

spi:
  id: display_qspi
  type: quad
  clk_pin: 47
  data_pins: [21, 48, 40, 39]

i2c:
  sda: 4
  scl: 8
  id: touchscreen_bus

time:
  - platform: sntp
    id: my_time
    timezone: "Asia/Seoul"

  - platform: homeassistant
    id: home_time
    on_time:
      # 매 분 0초마다 실행 (최적화)
      - seconds: 0
        then:
          - script.execute: time_update
          - script.execute: date_update

interval:
  - interval: 1s
    then:
      - script.execute: date_update
      - script.execute: time_update

# -----------------------------------------------------------------

# 폰트 설정
font:
  - file: "fonts/materialdesignicons-webfont2.ttf" # 4개의 메뉴큰 아이콘
    id: icon_font_30
    size: 20
    bpp: 4
    glyphs: [
          "\U000F0335", # mdi:lightbulb  U000F0335
          "\U000F1A24", ## 스위치20 switch off icon
          "\U000F1A3A",  # fan
          ]

  - file: "fonts/materialdesignicons-webfont2.ttf" # 4개의 메뉴큰 아이콘
    id: icon_font_50
    size: 50
    bpp: 4
    glyphs: [
          "\U000F0595", # mdi:weather-partly-cloudy
          "\U000F0335", # mdi:lightbulb
          "\U000F0F54", # mdi:home-thermometer
          "\U000F0493", # mdi:cog  U000F154E
          "\U000F0439", # radio icon
          "\U000F097E", # 스위치 icon
          "\U000F154E", # 그래프 icon
          "\U000F1C6D", # INFO icon
          "\U000F0769", # ceiling-light
          "\U000F0FA8",  # # ON U000F0FA8 off U000F05CE
          "\U000F05CE",  # # ON U000F0FA8 off U000F05CE          
          "\U000F0E71", # alarm
          "\U000F0E17",  # calendar
          "\U000F1443",  # clock
          "\U000F1A24", ## 스위치20 switch off icon
          "\U000F07C1", # dip switch
          ]  
  - file: "gfonts://Noto Emoji" # 이모지(🌅, 🌇 같은 유니코드 아이콘)는 포함
    id: font_50g
    size: 50

  - file: "gfonts://Roboto"
    id: roboto_100
    size: 100

  - file: "gfonts://Roboto"
    id: roboto_70
    size: 70
 
  - file: "fonts/D2Coding.ttf"  # 숫자 전용 고정 폭 폰트
    id: font_D_90
    size: 90
    bpp: 4

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_big50
    size: 50
    bpp: 4    
    glyphs: ${date_characters}

  - file: "gfonts://Roboto"
    id: font_15
    size: 15

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_20
    size: 20
    bpp: 4    
    glyphs: ${font_characters}

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_21
    size: 21
    bpp: 4
    glyphs: ${font_characters}

  - file: "fonts/MaruBuri-Bold.ttf"   
    id: font_22
    size: 23
    bpp: 4
    glyphs: ${font_characters}
    extras:
      - file: 'fonts/materialdesignicons-webfont2.ttf' # http://materialdesignicons.com/cdn/7.4.47/  
        glyphs: [
          "\U000F0335", # mdi:lightbulb
          "\U000F0336", # mdi-lightbulb-outline
          "\U000F07C0", # mdi-desktop-classic
          "\U000F097E",  #
          "\U000F1A3A",  # fan
          "\U000F1A25",  # 스위치
          "\U000F057E", # 스피커
          ]      

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_25 ### 하단 탭아이콘
    size: 25
    bpp: 4
    glyphs: ${font_characters}
    # U000F1443  하단 tabview 아이콘구성
    extras:
      - file: 'fonts/materialdesignicons-webfont2.ttf'  
        glyphs: [
          "\U000F1443", # 메뉴 demo
          "\U000F0EBA", # tabview
          "\U000F151B", # demo
          "\U000F0335", # mdi:lightbulb
          "\U000F0336", # mdi-lightbulb-outline
          "\U000F07C0", # mdi-desktop-classic
          "\U000F097E",  #
          "\U000F1A3A",  # fan
          "\U000F1A25",  # 스위치
          "\U000F057E", # 스피커  
          "\U000F0F54", # 보일러 탭아이콘 
          "\U000F1A24", #        
          ]  

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_25i
    size: 25
    bpp: 4
    glyphs: ${font_info_characters}



  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_26
    size: 26
    bpp: 4
    glyphs: ${font_characters}
    extras:
      - file: 'fonts/materialdesignicons-webfont2.ttf'  
        glyphs: [
          "\U000F0425", # power icon 
          "\U000F057E", # 스피커
          ]  

# font_info_characters
  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_30
    size: 30
    bpp: 4
    glyphs: ${font_characters}  
    extras:
      - file: 'fonts/materialdesignicons-webfont2.ttf' # materialdesignicons-webfonts.ttf' # http://materialdesignicons.com/cdn/7.4.47/ 
        glyphs: [
          "\U000F0318", # ap-connected
          "\U000F0319",  # ap-disconnected
          "\U000F0128", # chart bar icon 1       
          "\U000F0335", # lightbulb 2
          "\U000F0F54", #  button3 temp
          "\U000F0439", # 라디오 4번 BUTTON4
          "\U000F0493", # setting icon 5
          "\U000F1452", # # time 7 icon
          "\U000F02DC", # home-icon 1
          "\U000F0425", # power icon 
          "\U000F0FA8", #  절전 on lbl_idle_screen_timeout_check_on
          "\U000F0E71", # ALARM ICON 알람아이콘
          "\U000F16C5",  # wifi_disconnected
          "\U000F05A9",  # wifi connect 
          "\U000F092F", # wifi 0% 
          "\U000F091F", # wifi 40% 
          "\U000F0922", # wifi 60% 
          "\U000F0925", # wifi 80% 
          "\U000F0928", # wifi 100% 
          "\U000F05CE", # ScreenOff[x]
          "\U000F0D90", # backlight_off
          ]
# --------------------------------------------------
# s:\esphome\fonts\D2Coding.ttf 
  - file: "fonts/D2Coding.ttf"  # 숫자 전용 고정 폭 폰트
    id: font_i_30
    size: 30
    bpp: 4
    glyphs: ${font_info_characters}  

  - file: "fonts/MaruBuri-Bold.ttf"    
    id: font_40
    size: 40
    bpp: 4
    glyphs: ${font_characters}

# ============================================================
 

image:
  # - file: "${background_bg}"
  #   id: background_bg_id
  #   type: RGB565
  #   resize: 800x430

  - file: "images/1-clear-night.png"
    id: clearnight
    type: RGB565
    resize: 150x150
    transparency: alpha_channel

  - file: "images/4-hail.png"
    id: hail
    type: RGB565
    resize: 150x150
    transparency: alpha_channel       
 
  - file: "images/12-sunny.png"
    id: sunny
    type: RGB565
    resize: 150x150
    transparency: alpha_channel  # 투명적용

  - file: "images/9-rainy.png"
    id: rainy
    type: RGB565
    resize: 150x150
    transparency: alpha_channel  # 투명적용

  - file: "images/2-cloudy.png"
    id: cloudy
    type: RGB565
    resize: 150x150
    transparency: alpha_channel  # 투명적용

  - file: "images/10-snowy.png"
    id: snowy
    type: RGB565
    resize: 150x150
    transparency: alpha_channel  # 투명적용

  - file: "images/7-partlycloudy.png"
    id: partlycloud
    type: RGB565
    resize: 150x150
    transparency: alpha_channel   
 

# display:
#   - platform: qspi_dbi
#     model: axs15231
#     data_rate: 40MHz
#     id: my_display
#     spi_id: display_qspi
#     dimensions:
#       height: 480
#       width: 320
#     cs_pin: 45
#     rotation: 90 # 90 for landscape, 0 for portrait
#     update_interval: never
#     auto_clear_enabled: false
#     # show_test_card: true # must enable update_interval, auto_clear_enable
    
display:
  - platform: qspi_dbi
    model: axs15231
    data_rate: 40MHz
    id: my_display
    spi_id: display_qspi
    dimensions:
      height: 480
      width: 320
    cs_pin: 45
    rotation: 90 # 90 for landscape, 0 for portrait
    update_interval: never
    auto_clear_enabled: false
    # auto_clear_enabled: true
    show_test_card: true # must enable update_interval, auto_clear_enable
    

touchscreen:
  - platform: axs15231
    id: my_touch
    display: my_display
    i2c_id: touchscreen_bus
    transform:
      swap_xy: true  # X와 Y를 교체 (90도 회전에 맞춤)
      mirror_x: true # X축 반전하여 올바른 위치로 이동
    on_touch:
      - lambda: |-
          static int last_x = 0;
          static int last_y = 0;

          int dx = abs(touch.x - last_x);
          int dy = abs(touch.y - last_y);

          if (dy > dx) {
            ESP_LOGI("touch", "상하 이동 감지됨 → 이벤트 무시 (x=%d, y=%d)", touch.x, touch.y);
            return;
          }

          ESP_LOGI("touch", "좌우 이동 감지됨 → 이벤트 무시: x=%d, y=%d", touch.x, touch.y);
           return;

      - if:
          condition:
            or:
              - switch.is_off: backlight_switch_id
              - light.is_off: backlight_light_id
          then:
            - light.turn_on:            
                id: backlight_light_id 
                brightness: !lambda return id(backlight_brightness_number).state / 100; 
                # # 터치 시 켜지는 화면 밝기도 number에 저장된 밝기 값으로
            - switch.turn_on:     # 스위치 상태를 OFF로 설정
                id: backlight_switch_id                     


output:
  - platform: ledc
    pin: GPIO1
    id: backlight_pwm

light:
  - platform: monochromatic
    output: backlight_pwm
    name: "backlight_Light" 
    restore_mode: ALWAYS_ON
    id: backlight_light_id
#### ----------------------------------
    on_turn_on: 
      then:
        - switch.turn_on:     # 스위치 상태를 OFF로 설정
            id: backlight_switch_id          

        - number.set:  # 슬라이더 값과 동기화
            id: backlight_brightness_number
            value: !lambda return id(backlight_brightness_number).state;

        - light.control:  # 백라이트 밝기 설정
            id: backlight_light_id
            brightness: !lambda return id(backlight_brightness_number).state / 100;

        - lvgl.slider.update:  # 슬라이더 값도 동기화
            id: slide_brightness
            value: !lambda return id(backlight_brightness_number).state;
 
    on_turn_off: 
      then:
        - lvgl.pause:
        - switch.turn_off:     # 스위치 상태를 OFF로 설정
            id: backlight_switch_id          

# --------------------------------------
switch:
  - platform: output
    output: backlight_pwm
    id: backlight_switch_id
    name: "backlight_switch"
    restore_mode: ALWAYS_ON
    on_turn_on: 
      then:
        - light.turn_on:     # 스위치 상태를 OFF로 설정
            id: backlight_light_id    
    on_turn_off: 
      then:
        - light.turn_off:     # 스위치 상태를 OFF로 설정
            id: backlight_light_id        
# --------------------------------------------------------------------------------------------------------------
  - platform: factory_reset
    name: Restart with Factory Default Settings  

  - platform: restart
    name: "Restart Node"
    id: restart_id
################ ------------  number ---------------------------
number: 
  - platform: template
    name: "BackLight Brightness"
    optimistic: true
    id: backlight_brightness_number
    unit_of_measurement: "%"
    initial_value: 60
    restore_value: true
    min_value: 10
    max_value: 90
    step: 1
    mode: box
    # on_value: 
    on_value: 
      then:
        - lvgl.slider.update: 
            id: slide_brightness
            value: !lambda return x;

        - lvgl.label.update:
            id: back_light_in_text
            text: !lambda |-
              static char buf[15];
              int brightness_value = (int)id(backlight_brightness_number).state;
              snprintf(buf, sizeof(buf), "%d%%", brightness_value);  // 🔹 "%" 단위로 변경
              return std::string(buf);

        - light.control:  # 백라이트 밝기 설정
            id: backlight_light_id
            brightness: !lambda return id(backlight_brightness_number).state / 100;

        - lvgl.resume:

# ===================== sensor:==============================
# ============================================================
sensor:
  # - platform: uptime
  #   name: 1_Uptime _Sensor
  #   # id: uptime_id    # 2025_0307_2237_01
  #   type: seconds
  #   update_interval: 1s     # 2025_0112_2107_55

## ================================================   alarm_time 알람시계
# 와이파이 신호세기 font_30  ## wifi_40 wifi_connection_signal  esphome의 entity_id 이용
# sensor:
  - platform: wifi_signal
    name: "WiFi Signal dB"
    id: wifi_signal_db
    internal: true
    entity_category: "diagnostic"

# sensor:
  - platform: copy # Reports the WiFi signal strength in %
    source_id: wifi_signal_db
    name: "WiFi Signal Percent"
    id: wifi_signal_percent
    filters:
      - lambda: return min(max(2 * (x + 100.0), 0.0), 100.0);
    unit_of_measurement: "%"
    entity_category: "diagnostic"
    device_class: ""
    icon: mdi:wifi
 
  - platform: copy
    id: wifi_connection
    source_id: wifi_signal_percent
    on_value:
      - lvgl.label.update:
          id: wifi_connection_signal
          text: !lambda |-
            static char buf[25];
            std::string icon;
            if (x == 100.0) {
            icon = "\U000F05A9"; // wifi (full 사선)  font_30  
            } else if (x > 98) {
            icon = "\U000F05A9"; // wifi_98  
            } else if (x > 95) {
            icon = "\U000F0928"; // wifi_95                             
            } else if (x > 80) {
            icon = "\U000F0925"; // wifi_80
            } else if (x > 60) {
            icon = "\U000F0922"; // wifi_60
            } else if (x > 40) {
            icon = "\U000F091F"; // font_30  ## wifi_40
            } else if (x > 0) {
            icon = "\U000F092F"; // wifi_0
            }
            snprintf(buf, sizeof(buf), "%s", icon.c_str());
            return buf;

  - platform: copy # Reports the WiFi signal strength in %
    source_id: wifi_signal_percent
    name: "label_wifi_signal_percent_2"
    id: wifi_signal_percent_2
    accuracy_decimals: 1
    on_value:
      - lvgl.label.update:
          id: label_wifi_signal_percent2_txt
          text:
            format: " \U000F05A9 %.0f%%"                     
            args: [ 'x' ]   
# U000F0928                     
                                          
# HA Energy Sensor
  # entity_id_energy_meter_power: "sensor.power_meter_2port_power_a"   #  마이하우스 전력사용량
  - platform: homeassistant
    entity_id: ${entity_id_energy_meter_power}
    name: "energy meter power"
    id: energy_meter_power
    accuracy_decimals: 1          
    on_value:
      - lvgl.label.update:
          id: energy_meter_power_title
          text: !lambda |-
            static char buf[32];
            snprintf(buf, sizeof(buf), "%.0fW", x);
            return {buf};

  - platform: homeassistant
    entity_id: ${entity_id_home_temperature_feels} # sensor.wn_entity_id_home_temperature_feels_like # sensor.cegamondo # 체감온도 sensor.naver_weather_todayfeeltemp_1
    name: wn weather todayfeeltemp
    id: wn_weather_todayfeeltemp_1
    on_value:
      - lvgl.label.update:
          id: home_weather_now_temp
          text:
            format: "%.0f°"
            args: [ 'x' ]

# =============================================================================================
#  # substitutions:
  # entity_id_lbl_btn_climate_1: "climate.ttlto485s3_ip85_boiler_big_room"
  # entity_id_lbl_btn_climate_name_1: "안방보일러"
 
  # entity_id_lbl_btn_climate_2: "climate.ttlto485s3_ip85_boiler_living_room"
  # entity_id_lbl_btn_climate_name_2: "거실보일러"

  # entity_id_lbl_btn_climate_3: "climate.ttlto485s3_ip85_boiler_book_room"
  # entity_id_lbl_btn_climate_name_3: "서재보일러"

  # entity_id_lbl_btn_climate_4: "climate.ttlto485s3_ip85_boiler_small_room"
  # entity_id_lbl_btn_climate_name_4: "작방보일러" 
 # 안방 climate.485_ttl_esp32_ip109_boiler_big_room 11

# ============================================================================================= 
  - platform: homeassistant
    id: climate_censor_slider_update1
    entity_id: ${entity_id_lbl_btn_climate_1} #  
    attribute: temperature
    on_value:
      - lvgl.slider.update:
          id: slide_climate_1
          value: !lambda 'return (int) x;' 

      - lvgl.label.update:
          id: slide_climate_txt_1  
          text: !lambda |-
            static char buf[10];
            snprintf(buf, sizeof(buf), "%.0f°C", x);
            return std::string(buf);
# =============================================================================================
# ============================================================================================= 
  - platform: homeassistant
    id: climate_censor_slider_update2
    entity_id: ${entity_id_lbl_btn_climate_2} #  
    attribute: temperature
    on_value:
      - lvgl.slider.update:
          id: slide_climate_2
          value: !lambda 'return (int) x;' 

      - lvgl.label.update:
          id: slide_climate_txt_2  
          text: !lambda |-
            static char buf[10];
            snprintf(buf, sizeof(buf), "%.0f°C", x);
            return std::string(buf);
# =============================================================================================
# ============================================================================================= 
  - platform: homeassistant
    id: climate_censor_slider_update3
    entity_id: ${entity_id_lbl_btn_climate_3} #  
    attribute: temperature
    on_value:
      - lvgl.slider.update:
          id: slide_climate_3
          value: !lambda 'return (int) x;' 

      - lvgl.label.update:
          id: slide_climate_txt_3  
          text: !lambda |-
            static char buf[10];
            snprintf(buf, sizeof(buf), "%.0f°C", x);
            return std::string(buf);
# =============================================================================================
# ============================================================================================= 
  - platform: homeassistant
    id: climate_censor_slider_update4
    entity_id: ${entity_id_lbl_btn_climate_4} #  
    attribute: temperature
    on_value:
      - lvgl.slider.update:
          id: slide_climate_4
          value: !lambda 'return (int) x;' 

      - lvgl.label.update:
          id: slide_climate_txt_4  
          text: !lambda |-
            static char buf[10];
            snprintf(buf, sizeof(buf), "%.0f°C", x);
            return std::string(buf);
# =============================================================================================
# =============================================================================================
# =============================================================================================
  - platform: homeassistant
    id: current_climate_censor_slider_update1   # 집안 현재 온도  
    entity_id: ${entity_id_lbl_btn_climate_1}   
    attribute: current_temperature  # 현재 온도 속성
    on_value:
      then:
        - lvgl.label.update:
            id: current_climate_censor_txt_1    # 
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", x);
              return std::string(buf);
# =============================================================================================
# =============================================================================================
  - platform: homeassistant
    id: current_climate_censor_slider_update2   # 집안 현재 온도  
    entity_id: ${entity_id_lbl_btn_climate_2}   
    attribute: current_temperature  # 현재 온도 속성
    on_value:
      then:
        - lvgl.label.update:
            id: current_climate_censor_txt_2    # 
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", x);
              return std::string(buf);
# =============================================================================================
# =============================================================================================
  - platform: homeassistant
    id: current_climate_censor_slider_update3   # 집안 현재 온도  
    entity_id: ${entity_id_lbl_btn_climate_3}   
    attribute: current_temperature  # 현재 온도 속성
    on_value:
      then:
        - lvgl.label.update:
            id: current_climate_censor_txt_3    # 
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", x);
              return std::string(buf);
# =============================================================================================
# =============================================================================================
  - platform: homeassistant
    id: current_climate_censor_slider_update4   # 집안 현재 온도  
    entity_id: ${entity_id_lbl_btn_climate_4}   
    attribute: current_temperature  # 현재 온도 속성
    on_value:
      then:
        - lvgl.label.update:
            id: current_climate_censor_txt_4    # 
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", x);
              return std::string(buf);
# =============================================================================================


# =============================================================================================
# ========== text_sensor:에 스위치동작상태 센서 추가 영역=======================================
# =============================================================================================
# =============================================================================================
 
text_sensor:

  - platform: version
    name: "ESPHome_Version"
    id: ESPHome_Version_no

  
  - platform: wifi_info
    ip_address:
      name: "WiFi IP Address"
      id: ip_address_no
    mac_address:
      name: "Device MAC Address"
    ssid:
      name: "WiFi SSID"
    bssid:
      name: "WiFi BSSID"
      id: wifi_bssid
 
 
  - platform: template
    id: wifi_bssid_name
    name: "WiFi BSSID Name"
    update_interval: 10s
    lambda: |-
      static char buf[20];

      if (id(wifi_bssid).state.empty()) {
        return std::string("Connecting...");
      }

      std::string mac_str = id(wifi_bssid).state;

      for (auto & c : mac_str) c = toupper(c);

      if (mac_str.rfind("58:86:94:2A:4C:6C", 0) == 0) {
          snprintf(buf, sizeof(buf), "AX8004M");
      } else if (mac_str.rfind("58:86:94:88:E3:70", 0) == 0) {
          snprintf(buf, sizeof(buf), "A3-MU");
      } else {
          snprintf(buf, sizeof(buf), "Connecting...");
      }

      return std::string(buf);

    on_value:
      then:
        - lambda: |-
            lv_label_set_text(id(wifi_bssid_label), x.c_str());

# text_sensor:
 
  - platform: homeassistant
    id: wn_home_condition
    entity_id: sensor.wn_home_current_condition
    on_value:
      then:
        - lambda: |-
            lv_label_set_text(id(home_condition_day_label_big_11), x.c_str());

 
# text_sensor:        ------------------------------------------------------------------   entity_id_lbl_btn_switch_1
  - platform: homeassistant
    id: light_bookroom1
    entity_id: ${entity_id_light_bookroom_sw2} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_bookroom1
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");

        - lvgl.widget.update:
            id: btn_switch_1
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");

        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_bookroom1), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_bookroom1), LV_OPA_COVER, LV_PART_MAIN);

        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_switch_1), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_switch_1), LV_OPA_COVER, LV_PART_MAIN);
# text_sensor:   =============================================================================================
  - platform: homeassistant
    id: light_1
    entity_id: ${entity_id_lbl_btn_light_1} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_1
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_1), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_1), LV_OPA_COVER, LV_PART_MAIN);
# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_2
    entity_id: ${entity_id_lbl_btn_light_2} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_2
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_2), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_2), LV_OPA_COVER, LV_PART_MAIN);

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_3
    entity_id: ${entity_id_lbl_btn_light_3} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_3
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_3), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_3), LV_OPA_COVER, LV_PART_MAIN);           


# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_4
    entity_id: ${entity_id_lbl_btn_light_4} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_4
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_4), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_4), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888  light
  - platform: homeassistant
    id: light_5
    entity_id: ${entity_id_lbl_btn_light_5} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_5
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_5), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_5), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888  light
  - platform: homeassistant
    id: light_6
    entity_id: ${entity_id_lbl_btn_light_6} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_6
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_6), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_6), LV_OPA_COVER, LV_PART_MAIN);           


# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light 
  - platform: homeassistant
    id: light_7
    entity_id: ${entity_id_lbl_btn_light_7} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_7
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_7), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_7), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_8
    entity_id: ${entity_id_lbl_btn_light_8} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_8
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_8), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_8), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_9
    entity_id: ${entity_id_lbl_btn_light_9} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_9
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_9), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_9), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_10
    entity_id: ${entity_id_lbl_btn_light_10} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_10
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_10), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_10), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_11
    entity_id: ${entity_id_lbl_btn_light_11} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_11
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_11), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_11), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_12
    entity_id: ${entity_id_lbl_btn_light_12} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_12
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_12), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_12), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_13
    entity_id: ${entity_id_lbl_btn_light_13} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_13
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_13), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_13), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light
  - platform: homeassistant
    id: light_14
    entity_id: ${entity_id_lbl_btn_light_14} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_14
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_14), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_14), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888  light
  - platform: homeassistant
    id: light_15
    entity_id: ${entity_id_lbl_btn_light_15} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_15
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_15), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_15), LV_OPA_COVER, LV_PART_MAIN);           

# text_sensor:  8888888888888888888888888888888888888888888888888888888888888888888888888888888888 light

  - platform: homeassistant
    id: light_16
    entity_id: ${entity_id_lbl_btn_light_16} #  
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_light_16
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_light_16), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_light_16), LV_OPA_COVER, LV_PART_MAIN);           
###################### 보일러 heat 로 변경 ====================================
### --------------------------------------------------------------------------- 1111111111111 entity_id_lbl_btn_climate_1

  - platform: homeassistant
    id: climate_1
    entity_id: ${entity_id_lbl_btn_climate_1} # 서재불
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_climate_1
            state:
              checked: !lambda return (x == "heat");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "heat") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_climate_1), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_climate_1), LV_OPA_COVER, LV_PART_MAIN);   
### ===================================================================================22222222222 climate

  - platform: homeassistant
    id: climate_2
    entity_id: ${entity_id_lbl_btn_climate_2} # 서재불
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_climate_2
            state:
              checked: !lambda return (x == "heat");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "heat") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_climate_2), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_climate_2), LV_OPA_COVER, LV_PART_MAIN);   
### ===================================================================================3333333333333333 climate

  - platform: homeassistant
    id: climate_3
    entity_id: ${entity_id_lbl_btn_climate_3} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_climate_3
            state:
              checked: !lambda return (x == "heat");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "heat") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_climate_3), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_climate_3), LV_OPA_COVER, LV_PART_MAIN);   
### ===================================================================================444444444444444 climate

  - platform: homeassistant
    id: climate_4
    entity_id: ${entity_id_lbl_btn_climate_4} # 
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_climate_4
            state:
              checked: !lambda return (x == "heat");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "heat") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_climate_4), color, LV_PART_MAIN);   
            lv_obj_set_style_text_opa(id(lbl_btn_climate_4), LV_OPA_COVER, LV_PART_MAIN);   
### ===================================================================================
# text_sensor: 99999999999999999999999999999999999999999999999999999999999999999999999999999999999999
  - platform: homeassistant
    id: entity_id_computer_switch_id
    entity_id: ${entity_id_computer_switch} # switch.seojae_bul_left_2
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_computer_on # computer_on_txt
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0xFF, 0xE0, 0x00); // ON → 노랑 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0x00, 0xFF, 0x00); // OFF → 초록
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_computer_on), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_computer_on), LV_OPA_COVER, LV_PART_MAIN);


 # text_sensor:
  - platform: homeassistant
    id: entity_id_computer_switch_off_id
    entity_id: ${entity_id_computer_switch} # switch.seojae_bul_left_2
    on_value:
      then:
        - lvgl.widget.update:
            id: btn_computer_off # computer_on_txt
            state:
              checked: !lambda return (x == "on");
              disabled: !lambda return (x == "unavailable" || x == "unknown");
              # disabled: !lambda return (x == "on");
              # checked: !lambda return (x == "unavailable" || x == "unknown");
 
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0x00, 0xFF, 0x00); // HAOS 연결됨 → 초록 (Green)
            } else if (x == "off") {
                color = lv_color_make(0xFF, 0xFF, 0x00); // OFF → 노랑
            } else {
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑 (Blue) 
            }
            lv_obj_set_style_text_color(id(lbl_btn_computer_off), color, LV_PART_MAIN);
        - lambda: |-
            lv_color_t color;
            if (x == "on") {
                color = lv_color_make(0x00, 0xE0, 0x00); // ON → 초록 (RGB565 대응)
            } else if (x == "off") {
                color = lv_color_make(0xFF, 0xFF, 0x00); // OFF → 노랑
            } else {  
                color = lv_color_make(0x00, 0x00, 0xFF); // HAOS_FAIL → 파랑
            }
            lv_obj_set_style_text_color(id(lbl_btn_computer_off), color, LV_PART_MAIN);
            lv_obj_set_style_text_opa(id(lbl_btn_computer_off), LV_OPA_COVER, LV_PART_MAIN);            
# ============================================================================================= btn_computer_off_txt


##### =======================================================================================
# text_sensor:
  - platform: homeassistant
    id: weather_daily_forecast_home_day_0
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: day_0
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "Day 0: %s", x.c_str());
            std::string day = x;
            std::string day_kr;
            if (day == "Sunday") day_kr = "일";
            else if (day == "Monday") day_kr = "월";
            else if (day == "Tuesday") day_kr = "화";
            else if (day == "Wednesday") day_kr = "수";
            else if (day == "Thursday") day_kr = "목";
            else if (day == "Friday") day_kr = "금";
            else if (day == "Saturday") day_kr = "토";
            else day_kr = "N/A";
            lv_label_set_text(id(home_day_label_0), day_kr.c_str());
            ESP_LOGD("debug", "Day 0 (KR): %s", day_kr.c_str());
# ----------------------------------------------------------

# condition_0 조건
  - platform: homeassistant
    id: weather_daily_forecast_home_condition_0
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: condition_0
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "condition 0: %s", x.c_str());
            std::string condition = x;
            std::string scr;
            std::string condition_kr;

            // 이미지 및 한글 매핑 (기존 순서 유지)
            if (condition == "sunny") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "clear") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "clear-night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "nightpartlycloud") { scr = "nightpartlycloud"; condition_kr = "밤 구름"; }
            else if (condition == "partlycloudy") { scr = "partlycloud"; condition_kr = "구름"; }
            else if (condition == "cloudy") { scr = "cloudy"; condition_kr = "흐림"; }
            else if (condition == "rainy") { scr = "rainy"; condition_kr = "비"; }
            else if (condition == "pouring") { scr = "pouring"; condition_kr = "폭우"; }
            else if (condition == "hail") { scr = "hail"; condition_kr = "우박"; }
            else if (condition == "snowy") { scr = "snowy"; condition_kr = "눈"; }
            else if (condition == "windy") { scr = "windy"; condition_kr = "바람"; }
            else if (condition == "lightning") { scr = "lightning"; condition_kr = "번개"; }
            else if (condition == "thunder") { scr = "lightning"; condition_kr = "천둥"; }
            else if (condition == "lightning-rainy") { scr = "lightning"; condition_kr = "번개와 비"; }
            else { scr = "partlycloud"; condition_kr = "N/A"; }

            // 이미지 업데이트 (알파벳순 정렬 및 그룹화, home_condition_day_label_0으로 통일)
            if (scr == "clearnight" || scr == "night") 
                lv_img_set_src(id(home_condition_day_label_0), id(clearnight));         // 맑은 밤
            else if (scr == "cloudy" || scr == "nightpartlycloud") 
                lv_img_set_src(id(home_condition_day_label_0), id(cloudy));            // 흐림 또는 밤 구름
            else if (scr == "hail") 
                lv_img_set_src(id(home_condition_day_label_0), id(hail));              // 우박
            else if (scr == "partlycloud" || scr == "partlycloudy") 
                lv_img_set_src(id(home_condition_day_label_0), id(partlycloud));       // 구름
            else if (scr == "rainy" || scr == "pouring" || scr == "lightning" || 
                    scr == "lightning-rainy" || scr == "thunder" || scr == "windy") 
                lv_img_set_src(id(home_condition_day_label_0), id(rainy));             // 비/폭우/번개/바람 관련
            else if (scr == "snowy") 
                lv_img_set_src(id(home_condition_day_label_0), id(snowy));             // 눈
            else if (scr == "sunny" || scr == "clear") 
                lv_img_set_src(id(home_condition_day_label_0), id(sunny));             // 맑음
            else 
                lv_img_set_src(id(home_condition_day_label_0), id(partlycloud));       // 기본값
                
            // 한글 라벨 업데이트
            lv_label_set_text(id(home_condition_day_label_01), condition_kr.c_str());



  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_hi_0 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_hi_0 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Hi 0: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_hi_label_0 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C/", atof(x.c_str()));
              return std::string(buf);
 

  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_lo_0 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_lo_0 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Lo 0: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_lo_label_0 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", atof(x.c_str()));
              return std::string(buf); 
           
#---------------------------------------------------------11111    

#---------------------------------------------------------11111
# text_sensor:
  - platform: homeassistant
    id: weather_daily_forecast_home_day_1
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: day_1
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "Day 1: %s", x.c_str());
            std::string day = x;
            std::string day_kr;
            if (day == "Sunday") day_kr = "일";
            else if (day == "Monday") day_kr = "월";
            else if (day == "Tuesday") day_kr = "화";
            else if (day == "Wednesday") day_kr = "수";
            else if (day == "Thursday") day_kr = "목";
            else if (day == "Friday") day_kr = "금";
            else if (day == "Saturday") day_kr = "토";
            else day_kr = "N/A";
            lv_label_set_text(id(home_day_label_1), day_kr.c_str());
            ESP_LOGD("debug", "Day 1 (KR): %s", day_kr.c_str());
  
  # condition_1 조건: 1일차 날씨 상태 처리
  - platform: homeassistant
    id: weather_daily_forecast_home_condition_1  # 1일차 날씨 조건 센서 ID
    entity_id: ${entity_id_weather_daily_forecast_home}  # Home Assistant 날씨 엔티티
    attribute: condition_1  # 1일차 날씨 상태 속성
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "condition 1: %s", x.c_str());  // 디버깅: condition_1 값 로깅
            std::string condition = x;  // Home Assistant에서 받은 날씨 상태
            std::string scr;  // 이미지 식별자
            std::string condition_kr;  // 한글 날씨 설명

            // 이미지 및 한글 매핑 (기존 순서 유지)
            if (condition == "sunny") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "clear") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "clear-night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "nightpartlycloud") { scr = "nightpartlycloud"; condition_kr = "밤 구름"; }
            else if (condition == "partlycloudy") { scr = "partlycloud"; condition_kr = "구름"; }
            else if (condition == "cloudy") { scr = "cloudy"; condition_kr = "흐림"; }
            else if (condition == "rainy") { scr = "rainy"; condition_kr = "비"; }
            else if (condition == "pouring") { scr = "pouring"; condition_kr = "폭우"; }
            else if (condition == "hail") { scr = "hail"; condition_kr = "우박"; }
            else if (condition == "snowy") { scr = "snowy"; condition_kr = "눈"; }
            else if (condition == "windy") { scr = "windy"; condition_kr = "바람"; }
            else if (condition == "lightning") { scr = "lightning"; condition_kr = "번개"; }
            else if (condition == "thunder") { scr = "lightning"; condition_kr = "천둥"; }
            else if (condition == "lightning-rainy") { scr = "lightning"; condition_kr = "번개와 비"; }
            else { scr = "partlycloud"; condition_kr = "N/A"; }  // 정의되지 않은 경우 기본값

            // 이미지 업데이트 (알파벳순 정렬 및 그룹화)
            if (scr == "clearnight" || scr == "night") 
                lv_img_set_src(id(home_condition_day_label_1), id(clearnight));         // 맑은 밤
            else if (scr == "cloudy" || scr == "nightpartlycloud") 
                lv_img_set_src(id(home_condition_day_label_1), id(cloudy));            // 흐림 또는 밤 구름
            else if (scr == "hail") 
                lv_img_set_src(id(home_condition_day_label_1), id(hail));              // 우박
            else if (scr == "partlycloud" || scr == "partlycloudy") 
                lv_img_set_src(id(home_condition_day_label_1), id(partlycloud));       // 구름
            else if (scr == "rainy" || scr == "pouring" || scr == "lightning" || 
                    scr == "lightning-rainy" || scr == "thunder" || scr == "windy") 
                lv_img_set_src(id(home_condition_day_label_1), id(rainy));             // 비/폭우/번개/바람 관련
            else if (scr == "snowy") 
                lv_img_set_src(id(home_condition_day_label_1), id(snowy));             // 눈
            else if (scr == "sunny" || scr == "clear") 
                lv_img_set_src(id(home_condition_day_label_1), id(sunny));             // 맑음
            else 
                lv_img_set_src(id(home_condition_day_label_1), id(partlycloud));       // 기본값
            // 한글 라벨 업데이트
            lv_label_set_text(id(home_condition_day_label_11), condition_kr.c_str());  // 1일차 한글 표시

  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_hi_1 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_hi_1 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Hi 1: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_hi_label_1 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C/", atof(x.c_str()));
              return std::string(buf);
 
  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_lo_1 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_lo_1 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Lo 1: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_lo_label_1 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", atof(x.c_str()));
              return std::string(buf); 
              
#---------------------------------------------------------2222
# text_sensor:
  - platform: homeassistant
    id: weather_daily_forecast_home_day_2
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: day_2
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "Day 2: %s", x.c_str());
            std::string day = x;
            std::string day_kr;
            if (day == "Sunday") day_kr = "일";
            else if (day == "Monday") day_kr = "월";
            else if (day == "Tuesday") day_kr = "화";
            else if (day == "Wednesday") day_kr = "수";
            else if (day == "Thursday") day_kr = "목";
            else if (day == "Friday") day_kr = "금";
            else if (day == "Saturday") day_kr = "토";
            else day_kr = "N/A";
            lv_label_set_text(id(home_day_label_2), day_kr.c_str());
            ESP_LOGD("debug", "Day 2 (KR): %s", day_kr.c_str());
# ----------------------------------------------------------
# condition_2 조건: 2일차 날씨 상태 처리
  - platform: homeassistant
    id: weather_daily_forecast_home_condition_2  # 2일차 날씨 조건 센서 ID
    entity_id: ${entity_id_weather_daily_forecast_home}  # Home Assistant 날씨 엔티티
    attribute: condition_2  # 2일차 날씨 상태 속성
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "condition 2: %s", x.c_str());  // 디버깅: condition_2 값 로깅
            std::string condition = x;  // Home Assistant에서 받은 날씨 상태
            std::string scr;  // 이미지 식별자
            std::string condition_kr;  // 한글 날씨 설명

            // 이미지 및 한글 매핑 (기존 순서 유지)
            if (condition == "sunny") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "clear") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "clear-night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "nightpartlycloud") { scr = "nightpartlycloud"; condition_kr = "밤 구름"; }
            else if (condition == "partlycloudy") { scr = "partlycloud"; condition_kr = "구름"; }
            else if (condition == "cloudy") { scr = "cloudy"; condition_kr = "흐림"; }
            else if (condition == "rainy") { scr = "rainy"; condition_kr = "비"; }
            else if (condition == "pouring") { scr = "pouring"; condition_kr = "폭우"; }
            else if (condition == "hail") { scr = "hail"; condition_kr = "우박"; }
            else if (condition == "snowy") { scr = "snowy"; condition_kr = "눈"; }
            else if (condition == "windy") { scr = "windy"; condition_kr = "바람"; }
            else if (condition == "lightning") { scr = "lightning"; condition_kr = "번개"; }
            else if (condition == "thunder") { scr = "lightning"; condition_kr = "천둥"; }
            else if (condition == "lightning-rainy") { scr = "lightning"; condition_kr = "번개와 비"; }
            else { scr = "partlycloud"; condition_kr = "N/A"; }  // 정의되지 않은 경우 기본값

            // 이미지 업데이트 (알파벳순 정렬 및 그룹화)
            if (scr == "clearnight" || scr == "night") 
                lv_img_set_src(id(home_condition_day_label_2), id(clearnight));         // 맑은 밤
            else if (scr == "cloudy" || scr == "nightpartlycloud") 
                lv_img_set_src(id(home_condition_day_label_2), id(cloudy));            // 흐림 또는 밤 구름
            else if (scr == "hail") 
                lv_img_set_src(id(home_condition_day_label_2), id(hail));              // 우박
            else if (scr == "partlycloud" || scr == "partlycloudy") 
                lv_img_set_src(id(home_condition_day_label_2), id(partlycloud));       // 구름
            else if (scr == "rainy" || scr == "pouring" || scr == "lightning" || 
                    scr == "lightning-rainy" || scr == "thunder" || scr == "windy") 
                lv_img_set_src(id(home_condition_day_label_2), id(rainy));             // 비/폭우/번개/바람 관련
            else if (scr == "snowy") 
                lv_img_set_src(id(home_condition_day_label_2), id(snowy));             // 눈
            else if (scr == "sunny" || scr == "clear") 
                lv_img_set_src(id(home_condition_day_label_2), id(sunny));             // 맑음
            else 
                lv_img_set_src(id(home_condition_day_label_2), id(partlycloud));       // 기본값
            // 한글 라벨 업데이트
            lv_label_set_text(id(home_condition_day_label_21), condition_kr.c_str());  // 2일차 한글 표시

  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_hi_2 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_hi_2 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Hi 2: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_hi_label_2 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C/", atof(x.c_str()));
              return std::string(buf);
 
  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_lo_2 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_lo_2 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Lo 2: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_lo_label_2 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", atof(x.c_str()));
              return std::string(buf);
 
    
#---------------------------------------------------------3333
# text_sensor:
  - platform: homeassistant
    id: weather_daily_forecast_home_day_3
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: day_3
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "Day 3: %s", x.c_str());
            std::string day = x;
            std::string day_kr;
            if (day == "Sunday") day_kr = "일";
            else if (day == "Monday") day_kr = "월";
            else if (day == "Tuesday") day_kr = "화";
            else if (day == "Wednesday") day_kr = "수";
            else if (day == "Thursday") day_kr = "목";
            else if (day == "Friday") day_kr = "금";
            else if (day == "Saturday") day_kr = "토";
            else day_kr = "N/A";
            lv_label_set_text(id(home_day_label_3), day_kr.c_str());
            ESP_LOGD("debug", "Day 3 (KR): %s", day_kr.c_str());
# ----------------------------------------------------------
# condition_3 조건: 3일차 날씨 상태 처리
  - platform: homeassistant
    id: weather_daily_forecast_home_condition_3  # 3일차 날씨 조건 센서 ID
    entity_id: ${entity_id_weather_daily_forecast_home}  # Home Assistant 날씨 엔티티
    attribute: condition_3  # 3일차 날씨 상태 속성
    on_value:
      then:
        - lambda: |-
            ESP_LOGD("debug", "condition 3: %s", x.c_str());  // 디버깅: condition_3 값 로깅
            std::string condition = x;  // Home Assistant에서 받은 날씨 상태
            std::string scr;  // 이미지 식별자
            std::string condition_kr;  // 한글 날씨 설명

            // 이미지 및 한글 매핑 (기존 순서 유지)
            if (condition == "sunny") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "clear") { scr = "sunny"; condition_kr = "맑음"; }
            else if (condition == "night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "clear-night") { scr = "clearnight"; condition_kr = "맑은 밤"; }
            else if (condition == "nightpartlycloud") { scr = "nightpartlycloud"; condition_kr = "밤 구름"; }
            else if (condition == "partlycloudy") { scr = "partlycloud"; condition_kr = "구름"; }
            else if (condition == "cloudy") { scr = "cloudy"; condition_kr = "흐림"; }
            else if (condition == "rainy") { scr = "rainy"; condition_kr = "비"; }
            else if (condition == "pouring") { scr = "pouring"; condition_kr = "폭우"; }
            else if (condition == "hail") { scr = "hail"; condition_kr = "우박"; }
            else if (condition == "snowy") { scr = "snowy"; condition_kr = "눈"; }
            else if (condition == "windy") { scr = "windy"; condition_kr = "바람"; }
            else if (condition == "lightning") { scr = "lightning"; condition_kr = "번개"; }
            else if (condition == "thunder") { scr = "lightning"; condition_kr = "천둥"; }
            else if (condition == "lightning-rainy") { scr = "lightning"; condition_kr = "번개와 비"; }
            else { scr = "partlycloud"; condition_kr = "N/A"; }  // 정의되지 않은 경우 기본값

            // 이미지 업데이트 (알파벳순 정렬 및 그룹화)
            if (scr == "clearnight" || scr == "night") 
                lv_img_set_src(id(home_condition_day_label_3), id(clearnight));         // 맑은 밤
            else if (scr == "cloudy" || scr == "nightpartlycloud") 
                lv_img_set_src(id(home_condition_day_label_3), id(cloudy));            // 흐림 또는 밤 구름
            else if (scr == "hail") 
                lv_img_set_src(id(home_condition_day_label_3), id(hail));              // 우박
            else if (scr == "partlycloud" || scr == "partlycloudy") 
                lv_img_set_src(id(home_condition_day_label_3), id(partlycloud));       // 구름
            else if (scr == "rainy" || scr == "pouring" || scr == "lightning" || 
                    scr == "lightning-rainy" || scr == "thunder" || scr == "windy") 
                lv_img_set_src(id(home_condition_day_label_3), id(rainy));             // 비/폭우/번개/바람 관련
            else if (scr == "snowy") 
                lv_img_set_src(id(home_condition_day_label_3), id(snowy));             // 눈
            else if (scr == "sunny" || scr == "clear") 
                lv_img_set_src(id(home_condition_day_label_3), id(sunny));             // 맑음
            else 
                lv_img_set_src(id(home_condition_day_label_3), id(partlycloud));       // 기본값

            // 한글 라벨 업데이트
            lv_label_set_text(id(home_condition_day_label_31), condition_kr.c_str());  // 3일차 한글 표시


  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_hi_3 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_hi_3 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Hi 3: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_hi_label_3 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C/", atof(x.c_str()));
              return std::string(buf);
 
  - platform: homeassistant
    id: weather_daily_forecast_home_temperature_lo_3 ###
    entity_id: ${entity_id_weather_daily_forecast_home}
    attribute: temperature_lo_3 ###
    on_value:
      then: ###
        - lambda: |-
            ESP_LOGD("debug", "Temperature Lo 3: %s", x.c_str());
        - lvgl.label.update:
            id: home_temperature_day_lo_label_3 ###
            text: !lambda |-
              static char buf[10];
              snprintf(buf, sizeof(buf), "%.0f°C", atof(x.c_str()));
              return std::string(buf);
 
 #----------------------------------------------------------------------------------------------- 2025_0321_1113_20

    
 #----------------------------------------------------------------------------------------------- 2025_0321_1113_20
# text_sensor:
# text_sensor:
  - platform: template
    id: ampm_text
    name: "AMPM Text"
    lambda: |-
      auto now = id(home_time).now();
      return now.hour < 12 ? std::string("오전") : std::string("오후");
    update_interval: 60s
    on_value:
      - lambda: |-
          lv_label_set_text(id(date_clock_ampm), x.c_str());

# text_sensor:
  # - platform: template
  #   id: sec_text
  #   name: "Second Clock"
  #   lambda: |-
  #     auto now = id(home_time).now();
  #     static char sec_buf[10];
  #     snprintf(sec_buf, sizeof(sec_buf), ".%02d", now.second);
  #     return std::string(sec_buf);
  #   update_interval: 1s
  #   on_value:
  #     - lambda: |-
  #         lv_label_set_text(id(date_clock_sec), x.c_str());

# 네이버 날씨 홈화면
# 오늘날씨 icon 자동화 image_icon  sensor.hyeonjaenalssi

  - platform: homeassistant
    # entity_id: weather.wn_home ## sensor.hyeonjaenalssi # change item
    entity_id: ${entity_id_weather_nowweather_Current1} # 웨더뉴스 엔티티 ID로 변경 필요
    name: WeatherNews today image
    id: WeatherNews_home_image_today_change1
    on_value:
      - if:
          condition:
            or:
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "맑음";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "sunny";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "clear";'   
                          
          then:
 
            - lvgl.image.update:
                id: home_weather_icon
                src: sunny
 
      - if:
          condition:
            or:
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐림";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많음";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "cloudy";'              

          then:
 
            - lvgl.image.update:
                id: home_weather_icon
                src: cloudy

 

  
      - if:
          condition:
            or:
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "비";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 한때 비";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 소나기";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 한때 소나기";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 가끔 소나기";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 한때 소나기 곳";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 한때 소나기 곳";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 비";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 가끔 비";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 한때 비";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 한때 소나기";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 가끔 소나기";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 한때 비곳";'    
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "rainy";'        
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "partlycloudy";'
                           
          then:
 
            - lvgl.image.update:
                id: home_weather_icon
                src: rainy
     

      - if:
          condition:
            or:
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "눈";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 비/눈";'      
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "구름많고 한때 비/눈";'   
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 가끔 비/눈";'   
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "흐리고 한때 비/눈";'              
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "snowy";'
          then:
 
            - lvgl.image.update:
                id: home_weather_icon
                src: snowy  #     snowy_rainy
 
      - if:
          condition:
            or:
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "clear-night";'
              - lambda: 'return id(WeatherNews_home_image_today_change1).state == "night";'
          then:
 
            - lvgl.image.update:
                id: home_weather_icon
                src: clearnight
 
 # 888888888888888888888888888888888888888  
 
  - platform: copy
    source_id: ESPHome_Version_no
    name: install_esphome_version_time
    id: install_esphome_version
    on_value:
      - lvgl.label.update:
          id: install_esphome_version_txt
          text: !lambda |-
            static char buf[70];  // # 버퍼 크기를 늘려서 충분한 공간을 확보합니다.          
            snprintf(buf, sizeof(buf), "Ver__%s", id(install_esphome_version).state.c_str());  
            return std::string(buf); // # buf를 std::string으로 변환하여 반환합니다.  
                                     
# =================================================================================# text_sensor: ============ end

script:
  

  - id: time_update
    then:
      - lambda: |-
          auto now = id(home_time).now();
          int hour_12 = now.hour % 12;
          if (hour_12 == 0) hour_12 = 12;

          static char time_buf[50];
          snprintf(time_buf, sizeof(time_buf), "#FFFFFF %02d:%02d#", 
                   hour_12, now.minute);
          lv_label_set_text(id(time_clock_big), time_buf);


      - lvgl.label.update:
          id: title_time_top
          text: !lambda |-
            static char time_buf[17];
            auto now = id(home_time).now();
            bool is_pm = now.hour >= 12;
            int hour_12 = now.hour % 12;
            if (hour_12 == 0) {
                hour_12 = 12; // 12 AM/PM should be displayed as 12, not 0
            }
            snprintf(time_buf, sizeof(time_buf), "%s%2d:%02d,%02d", is_pm ? "오후" : "오전", hour_12, now.minute, now.second);
            return time_buf;

      - lvgl.label.update:
          id: clock_time_sec
          text: !lambda |-
            static char time_buf[100];
            auto now = id(home_time).now();
            snprintf(time_buf, sizeof(time_buf), ".%02d", now.second);
            return time_buf;


  - id: date_update
    then:
      - lambda: |-
          static char date_buf[60];
          auto now = id(home_time).now();
          const char* weekdays[] = {
              "#00FF00 일#", "#00FF00 월#", "#00FF00 화#", 
              "#00FF00 수#", "#00FF00 목#", "#00FF00 금#", "#00FF00 토#"
          };
          snprintf(date_buf, sizeof(date_buf), "%04d-%02d-%02d (%s)", 
              now.year, now.month, now.day_of_month, weekdays[now.day_of_week - 1]);
          lv_label_set_text(id(date_clock_big), date_buf);

      - lvgl.label.update:
          id: title_date
          text: !lambda |-
            static char date_buf[40];
            auto now = id(home_time).now();
            const char* weekdays[] = {"일", "월", "화", "수", "목", "금", "토"}; //font_20
            snprintf(date_buf, sizeof(date_buf), "%04d-%02d-%02d (%s)", now.year, now.month, now.day_of_month, weekdays[now.day_of_week - 1]);
            return date_buf;


lvgl:
 
  style_definitions: # LVGL 스타일 정의 섹션
  
    - id: style_icon  # 아이콘 스타일 정의
      text_color: 0xD5D5D5  # 텍스트 색상을 밝은 회색으로 설정
      bg_opa: TRANSP  # 배경 투명 설정
      radius: 5  # 모서리 둥글기 정도 (5px)
      border_color: 0xE9E9E9  # 테두리 색상을 연한 회색으로 설정
      border_width: 0  # 테두리 두께 0 (테두리 없음)
      #border_opa:  # (생략됨) 테두리 투명도 설정 가능
      pad_all: 0  # 내부 여백 없음
      shadow_width: 0  # 그림자 없음
      shadow_opa: TRANSP  # 그림자 투명 설정

    - id: style_button  # 버튼 스타일 정의
      radius: 20  # 버튼 모서리 둥글기 설정 (20px)
      text_font: font_25  # 버튼 내 텍스트 폰트 크기 설정 (25px 폰트 사용)
      text_align: CENTER  # 버튼 내 텍스트 가운데 정렬
      bg_color: 0x2F8CD8  # 버튼 기본 배경색 (푸른색)
      bg_grad_color: 0x0460BD  # 버튼 그라디언트 색상 (더 짙은 파란색)
      bg_grad_dir: VER  # 버튼 배경 그라디언트 방향을 수직으로 설정
      border_width: 5  # 테두리 두께 5px
      border_color: 0x1e84eb  # 테두리 색상을 밝은 파란색으로 설정
      border_opa: 50%  # 테두리 투명도를 50%로 설정
      outline_width: 1  # 아웃라인 두께 1px


    # 외곽선용 큰 글자 스타일 (검정색)
    - id: style_text_outline
      text_color: 0x000000        # 외곽선 색상 (검정)
      bg_opa: TRANSP              # 배경을 투명하게 설정

    # 내부 실제 텍스트 스타일 (흰색)
    - id: style_inner_text
      text_color: 0xFFFFFF        # 텍스트 색상 (흰색)
      bg_opa: TRANSP              # 배경 투명하게 설정

    # 텍스트를 감싸는 박스 스타일
    - id: style_box
      bg_color: 0x222222          # 배경 색상
      bg_opa: COVER               # 배경 투명도 설정 (COVER는 완전히 덮음)
      radius: 20                  # 모서리 반경
      border_width: 2             # 박스 외곽선 두께
      border_color: 0x000000      # 박스 외곽선 색상 (검정)
      pad_all: 10                 # 박스 내부 여백

    - id: style_weather_bottom
      text_color: 0xD5D5D5
      bg_color: 0
      bg_opa: TRANSP
      border_color: 0xE9E9E9      
      border_width: 0
      radius: 0
      pad_all: 0

    - id: style_card
      text_color: 0xD5D5D5
      bg_color: 0x222222
      bg_opa: COVER
      radius: 20
      outline_width: 0
      border_width: 0
      #border_opa:
      pad_all: 0
    
    - id: style_header_footer_top
      # text_font: font_15
      text_color: 0xD5D5D5
      bg_color: 0
      bg_opa: TRANSP
      border_opa: TRANSP
      radius: 0
      pad_all: 0
      shadow_opa: TRANSP
      width: 100%

    - id: style_1card  # 카드 위젯의 고유 ID
      text_color: 0xD5D5D5  # 텍스트 색상: 연한 회색 (hex 코드로 표현)
      bg_color: 0x222222  # 배경 색상: 어두운 회색/검정 (hex 코드로 표현)
      bg_opa: 30% #COVER  # 배경의 불투명도 설정 (COVER는 완전 불투명)
      radius: 10  # 모서리 반경: 카드 모서리가 둥글게 처리되는 정도 (픽셀 단위)
      outline_width: 0  # 외곽선 너비: 외곽선의 두께 (픽셀 단위)
      border_width: 0  # 테두리 너비: 테두리의 두께 (픽셀 단위)
      border_opa: 0%  # 테두리의 불투명도 설정 (주석 처리됨)
      pad_all: 0  # 전체 여백 설정: 모든 방향에서의 여백 (픽셀 단위)

    - id: style_2card  # 카드 위젯의 고유 ID
      # text_color: 0xD5D5D5  # 텍스트 색상: 연한 회색 (hex 코드로 표현)
      bg_color: 0x222222  # 배경 색상: 어두운 회색/검정 (hex 코드로 표현)
      bg_opa: 88% #COVER  # 배경의 불투명도 설정 (COVER는 완전 불투명)
      radius: 10  # 모서리 반경: 카드 모서리가 둥글게 처리되는 정도 (픽셀 단위)
      outline_width: 0  # 외곽선 너비: 외곽선의 두께 (픽셀 단위)
      border_width: 0  # 테두리 너비: 테두리의 두께 (픽셀 단위)
      border_opa: 0%  # 테두리의 불투명도 설정 (주석 처리됨)
      pad_all: 0  # 전체 여백 설정: 모든 방향에서의 여백 (픽셀 단위)
      # 설명

    - id: style_tab_theme # tab_theme # style_tab_theme
      border_width: 0
      border_color: 0x0077b3
      border_opa: TRANSP
      bg_color: 0x2F8CD8
      bg_grad_color: 0x005782                  
      bg_grad_dir: VER
      pad_all: 0                  
      width: 100%
      height: 50
      text_font: font_26
      text_align: CENTER

    - id: style_weather_top
      text_color: 0xD5D5D5
      bg_color: 0
      bg_opa: TRANSP
      border_side: 
        - top
        - bottom
      border_color: 0xE9E9E9
      border_width: 3
      #border_opa:
      radius: 0
      pad_all: 0
      shadow_width: 0
      shadow_opa: TRANSP

    - id: style_time
      text_color: 0xD5D5D5
      bg_opa: TRANSP
      radius: 5
      border_color: 0xE9E9E9
      border_width: 0
      #border_opa:
      pad_all: 0
      shadow_width: 0
      shadow_opa: TRANSP        
#### ====================================================        
# lvgl:
  # buffer_size: 40kb  # 기본보다 적절히 낮추기 (기본: 100kb)
  # redraw_interval: 100ms  # 기본보다 조금 늘리기 (기본: 33ms)
  #full_refresh: true # not needed any longer
  draw_rounding: 8 # necessary for the axs15231 display controller
  displays: my_display
  touchscreens: my_touch
  bg_color: 0
  border_width: 0
  outline_width: 0

  theme:
    bar:
      radius: 0
      indicator:
        radius: 0
        arc_color: red
# =================  모든 위젯 설정 =========================        

# ======================================
# 상단 우측 에너지/날짜/시간 top_icon  타이틀 메뉴  토요일 날짜 일자
# # 상단 타이틀 top-icon 상단메뉴
# ======================================
  top_layer:
      # bg_color: 0xFFFFFF  # 원하는 색상 코드로 변경하세요
      # bg_opa: LV_OPA_COVER  # 배경 불투명도 설정
    id: top_layer_id 
    widgets: 
# ========================================================
# 상단메뉴 타이틀 홈버튼 위치구성 2025_0303_1439_38  top_icon 
# 상단시계 상단날짜 첫줄시계 
# ----------------------------------------------------------
      - obj:
          x: 0
          y: -3
          width: 100% # x: 0 과 100% 로 좌우 이동 없음
          height: 50
          align: TOP_LEFT
          scrollbar_mode: "OFF"
          text_color: 0xD5D5D5
          text_font: font_20  #
          bg_color: 0
          bg_opa: TRANSP
          border_opa: TRANSP
          radius: 0
          pad_all: 0
          shadow_opa: TRANSP          
          id: top_layer1
          widgets:
# ------------------------------------------------------------         

            - label:                
                text: "오전00:00.00"
                id: title_time_top
                align: TOP_LEFT
 
                text_color: 0xFFFFFF
                x: 20 #220
                text_align: LEFT

            - label:
                text: "2000-00-00(토)"
                text_color: 0x00FF00   # 색상 코드 수정 (6자리로 변경)
                id: title_date
                align: TOP_LEFT
                x: 140
                text_align: LEFT
       
            - label:
                id: wifi_bssid_label  
                align: TOP_MID
                x: 120
                y: 0
                text: "wifi_con" # AM8004M" # 192.168.0.46  wifi_connection_mac
                text_align: LEFT
                text_color: 0xFFFF00 
                                      
# # ================================================ TOP_RIGHT
     
            - button:
                x: -30
                id: wifi_connection_signal_button
                align: TOP_RIGHT
                styles: style_header_footer_top
                height: 49
                width: 59 # 78
                widgets:
                  - label:
                      id: wifi_connection_signal
                      align: TOP_RIGHT
                      text: "\U000F16C5" # wifi signal icon 아이콘
                      text_font: font_30  ## wifi_40 # wifi signal icon 아이콘
                      text_align: LEFT
                      text_color: 0x21DE0D # wifi 연결신호 크기별 green 색으로 표시 관련정보는 wifi_connection_signal 검색 적용 font_30  ## wifi_40 폰트 적용
                on_press: 
                  - switch.turn_on:   # 재시작 reboot 동작 restart_node
                      id: restart_id
            - button:
                x: 0
                id: ap_connected_button
                align: TOP_RIGHT
                styles: style_header_footer_top
                height: 49
                width: 59 # 78
                widgets:
                  - label:
                      id: ap_connected
                      align: TOP_RIGHT
                      text: "\U000F0318"  # ap_conected 동작 (동일위치)
                      text_font: font_30  ## wifi_40 # ap icon 아이콘
                      text_align: LEFT
                      text_color: 0xFFFFFF # wifi 연결신호 크기별 green 색으로 표시 관련정보는 wifi_connection_signal 검색 적용 font_30  ## wifi_40 폰트 적용
                  - label:
                      id: ap_disconnected
                      align: TOP_RIGHT
                      text: "\U000F0319"  # ap_disconectrd 동작 (동일위치)
                      text_font: font_30  ## wifi_40 # ap icon 아이콘
                      text_align: LEFT
                      text_color: 0xFF0000 # wifi 연결신호 크기별 green 색으로 표시 관련정보는 wifi_connection_signal 검색 적용 font_30  ## wifi_40 폰트 적용

                on_press: 
                  - switch.turn_on:   # 재시작 reboot 동작 restart_node
                      id: restart_id


    
  pages:
    - id: menu_page
      widgets:
        # 여기에 위젯 정의
# ====^===============================================================  
# 터치시 화면 이동 방지 pages: id의 widgets 기준으로 제일 마지막에 추가합니다 
      # on_load:
      #   - lambda: |-
      #       // 전체 화면 클릭 방지
      #       lv_obj_clear_flag(lv_scr_act(), LV_OBJ_FLAG_CLICKABLE);

      #       // 탭바 클릭 허용
      #       lv_obj_add_flag(id(widgets_page_tap), LV_OBJ_FLAG_CLICKABLE);

      #       // 탭 전환 제스처 막기 (탭뷰의 내부 컨테이너에 플래그 제거)
      #       lv_obj_t *content = lv_tabview_get_content(id(widgets_page_tap));
      #       lv_obj_clear_flag(content, LV_OBJ_FLAG_SCROLLABLE);  // 스와이프 방지

      - obj:
          x: 0
          y: 0
          align: TOP_LEFT
          styles: style_card
          width: 100%
          height: 100% # 100%
          widgets:            
            - tabview:  # 탭뷰 하단메뉴 표시
                id: widgets_page_tap
                position: bottom
                styles: style_time
                
                tab_style:
                  styles: style_time
                  items:
                    text_color: 0xE5E5E5
                    text_font: font_25
                    height: 20                    
                    pressed:
                      text_color: 0xE5E5E5
                    checked: 
                      text_color: 0xF7F703
                tabs:
                          
# ==================>==================================================  
## ============  추가적으로 계속복사 메뉴 복사 =========================
                  - name: "\U000F1443" 
                    id: time_tab
# ==================>=================================================              
                    widgets:
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_time
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
### 999999999999999999999999999999999999999999999999999999999999999999999999999999
                            - obj:
                                x: 0
                                y: 0
                                align: TOP_MID          
                                bg_color: 0x000000
                                bg_opa: 30%
                                styles: style_time
                                width: 100%
                                height: 270
                                widgets:       
##### 9999999999999999999999999999999999999999999999999999999999999999999999999999
                                  - label:
                                      align: TOP_MID
                                      text: '@tab_time'
                                      text_font: font_15
                                      text_color: 0x00FFFF   
                                      x: 0
                                      y: 0
                                      text_align: CENTER
                                      width: 100%                                      
# -----------------------------------------------------------
                                  - image:
                                      x: 0
                                      y: 0
                                      align: TOP_LEFT
                                      id: home_weather_icon # 
                                      src: hail
                                      antialias: true
                                      zoom: 0.7   #확대 배율

                                  - label:
                                      id: time_clock_big
                                      text: "#FFFF00 🌇# 12:34:56"  # 🔹 🌇 이모지 포함
                                      align: TOP_MID
                                      text_font: font_D_90
                                      text_color: 0xFFFF00
                                      x: 30
                                      y: 10
                                      text_align: CENTER
                                      recolor: true  # 🔹 Recolor 기능 활성화

                                  - label:
                                      id: date_clock_ampm
                                      text: "오전"
                                      align: TOP_RIGHT
                                      text_font: font_30
                                      text_color: 0xFFFFFF
                                      x: -20
                                      y: 20
                                      text_align: LEFT

                                  - label:
                                      id: clock_time_sec ## date_clock_sec
                                      text: ".59"  # 초시계
                                      align: TOP_RIGHT
                                      text_font: font_i_30
                                      text_color: 0xFFFF00
                                      x: -40 
                                      y: 60
                                      text_align: LEFT
 
                                  - label:
                                      id: date_clock_big
                                      text: "2000-00-00(토)"
                                      align: BOTTOM_RIGHT
                                      text_font: font_30
                                      text_color: 0xFFFFFF
                                      x: 0
                                      y: 0
                                      text_align: LEFT
                                      recolor: true  # 🔹 Recolor 기능 활성화

                                  - label:
                                      text: "---W"
                                      id: energy_meter_power_title
                                      text_font: font_30
                                      text_color: 0xFFFF00 
                                      align: BOTTOM_LEFT 
                                      x: 0
                                      y: 0
                                      text_align: LEFT
                                  - label:
                                      text: "wifi"  # 100%
                                      id: label_wifi_signal_percent2_txt
                                      text_font: font_30 
                                      align: BOTTOM_LEFT             
                                      x: 90
                                      text_align: LEFT
                                      text_color: 0x00FF00 
                                  - label:
                                      text: "맑음"
                                      x: 80
                                      y: 20
                                      align: TOP_LEFT
                                      id: home_condition_day_label_big_11  # 지금날씨
                                      text_align: LEFT
                                      text_font: font_30
                                      text_color: 0xFFFF00
                                      styles: style_card
                                          
                                  - label:
                                      text: "15°"
                                      x: 110
                                      y: 60
                                      align: TOP_LEFT
                                      id: home_weather_now_temp  # 체감온도 지금온도
                                      text_align: LEFT
                                      text_font: font_30
                                      text_color: 0xFFFF00                       
                                          
                                                           
# #---------------------------------^-----------------------    
## 주간온도  일기예보
                            - obj:
                                x: 5
                                y: 90
                                align: TOP_LEFT
                                width: 100%
                                height: 250
                                styles: style_time
                                widgets:
  # ----------------------------------------------------------------00000000000000000
                                  - obj:
                                      x: 5
                                      y: 5
                                      align: TOP_LEFT
                                      width: 120
                                      height: 230
                                      styles: style_time
                                      widgets:            
                                        #   # day_3
                                        - label:
                                            id: home_day_label_0
                                            text: "월"
                                            x: 0
                                            y: 0
                                            text_font: font_30
                                            text_align: CENTER
                                            align: TOP_MID


                                        - image:
                                            x: 0
                                            y: 25
                                            styles: style_time
                                            bg_opa: TRANSP
                                            id: home_condition_day_label_0
                                            src: hail  # 초기 이미지
                                            antialias: true
                                            zoom: 0.5
                                            text_align: CENTER
                                            align: TOP_MID

                                        - label:
                                            id: home_condition_day_label_01
                                            text: "맑음"
                                            x: 0
                                            y: 35
                                            text_font: font_20
                                            text_color: 0xFFFF00
                                            text_align: CENTER
                                            align: TOP_MID
                                            styles: style_card

                                        - label:
                                            id: home_temperature_day_hi_label_0
                                            text: "20°C"
                                            x: -25
                                            y: 110
                                            text_font: font_20
                                            text_color: 0xFF0000
                                            text_align: CENTER
                                            align: TOP_MID
                                            
                                        - label:
                                            id: home_temperature_day_lo_label_0
                                            text: "8°C"
                                            x: 20
                                            y: 110
                                            text_font: font_20
                                            text_color: 0x00FF00
                                            text_align: CENTER
                                            align: TOP_MID

  # ----------------------------------------------------------------11111111111111111111      
 
                                  - obj:
                                      x: 105
                                      y: 5
                                      align: TOP_LEFT
                                      width: 120
                                      height: 230
                                      styles: style_time
                                      widgets:            
                                        #   # day_3
                                        - label:
                                            id: home_day_label_1
                                            text: "화"
                                            x: 0
                                            y: 0
                                            text_font: font_30
                                            text_align: CENTER
                                            align: TOP_MID


                                        - image:
                                            x: 0
                                            y: 25
                                            styles: style_time
                                            bg_opa: TRANSP
                                            id: home_condition_day_label_1
                                            src: hail  # 초기 이미지
                                            antialias: true
                                            zoom: 0.5
                                            text_align: CENTER
                                            align: TOP_MID

                                        - label:
                                            id: home_condition_day_label_11
                                            text: "흐림"
                                            x: 0
                                            y: 35
                                            text_font: font_20
                                            text_color: 0xFFFF00
                                            text_align: CENTER
                                            align: TOP_MID
                                            styles: style_card

                                        - label:
                                            id: home_temperature_day_hi_label_1
                                            text: "20°C"
                                            x: -25
                                            y: 110
                                            text_font: font_20
                                            text_color: 0xFF0000
                                            text_align: CENTER
                                            align: TOP_MID
                                            
                                        - label:
                                            id: home_temperature_day_lo_label_1
                                            text: "8°C"
                                            x: 20
                                            y: 110
                                            text_font: font_20
                                            text_color: 0x00FF00
                                            text_align: CENTER
                                            align: TOP_MID
  #------------------------------------------------------------------  222222222222222222222222222222     

                                  - obj:
                                      x: 205
                                      y: 5
                                      align: TOP_LEFT
                                      width: 120
                                      height: 230
                                      styles: style_time
                                      widgets:            
                                        #   # day_3
                                        - label:
                                            id: home_day_label_2
                                            text: "수"
                                            x: 0
                                            y: 0
                                            text_font: font_30
                                            text_align: CENTER
                                            align: TOP_MID


                                        - image:
                                            x: 0
                                            y: 25
                                            styles: style_time
                                            bg_opa: TRANSP
                                            id: home_condition_day_label_2
                                            src: hail  # 초기 이미지
                                            antialias: true
                                            zoom: 0.5
                                            text_align: CENTER
                                            align: TOP_MID

                                        - label:
                                            id: home_condition_day_label_21
                                            text: "비"
                                            x: 0
                                            y: 35
                                            text_font: font_20
                                            text_color: 0xFFFF00
                                            text_align: CENTER
                                            align: TOP_MID
                                            styles: style_card

                                        - label:
                                            id: home_temperature_day_hi_label_2
                                            text: "20°C"
                                            x: -25
                                            y: 110
                                            text_font: font_20
                                            text_color: 0xFF0000
                                            text_align: CENTER
                                            align: TOP_MID
                                            
                                        - label:
                                            id: home_temperature_day_lo_label_2
                                            text: "8°C"
                                            x: 20
                                            y: 110
                                            text_font: font_20
                                            text_color: 0x00FF00
                                            text_align: CENTER
                                            align: TOP_MID

  # ----------------------------------------------------------------3333333333333333333
  
                                  - obj:
                                      x: 305
                                      y: 5
                                      align: TOP_LEFT
                                      width: 120
                                      height: 230
                                      styles: style_time
                                      widgets:            
                                        #   # day_3
                                        - label:
                                            id: home_day_label_3
                                            text: "목"
                                            x: 0
                                            y: 0
                                            text_font: font_30
                                            text_align: CENTER
                                            align: TOP_MID


                                        - image:
                                            x: 0
                                            y: 25
                                            styles: style_time
                                            bg_opa: TRANSP
                                            id: home_condition_day_label_3
                                            src: hail  # 초기 이미지
                                            antialias: true
                                            zoom: 0.5
                                            text_align: CENTER
                                            align: TOP_MID

                                        - label:
                                            id: home_condition_day_label_31
                                            text: "흐림"
                                            x: 0
                                            y: 35
                                            text_font: font_20
                                            text_color: 0xFFFF00
                                            text_align: CENTER
                                            align: TOP_MID
                                            styles: style_card

                                        - label:
                                            id: home_temperature_day_hi_label_3
                                            text: "20°C"
                                            x: -25
                                            y: 110
                                            text_font: font_20
                                            text_color: 0xFF0000
                                            text_align: CENTER
                                            align: TOP_MID
                                            
                                        - label:
                                            id: home_temperature_day_lo_label_3
                                            text: "8°C"
                                            x: 20
                                            y: 110
                                            text_font: font_20
                                            text_color: 0x00FF00
                                            text_align: CENTER
                                            align: TOP_MID

# --------------------------------------------------------------- end weaher      

## ============  추가적으로 탭뷰 형식으로 계속복사 =====================
                  - name: "\U000F0EBA"
                    id: home_tab
# ==================>=========================================              
# ==================>=================================================              
                    widgets:
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_time
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
                          
### 999999999999999999999999999999999999999999999999999999999999999999999999999999
                          - obj:
                              x: 0
                              y: 0
                              align: TOP_MID          
                              bg_color: 0x000000
                              bg_opa: 30%
                              styles: style_time
                              width: 100%
                              height: 270
                              widgets:       

                        #####999999999999999999999999999999999999 버튼및 메뉴 구성 
                                - label:
                                    align: TOP_MID
                                    y: 2 # distance down from top
                                    text: '@tab_home'
                                    text_color: 0x00FFFF  
                                    text_font: font_15 

        
                                - obj:
                                    x: 0
                                    y: 20
                                    align: TOP_LEFT
                                    styles: style_icon
                                    width: 100%
                                    height: 270 # tabview 의 제외 영역

                                    # 레이아웃을 3행 3열로 설정합니다.
                                    layout:
                                      type: grid      
                                      grid_columns: [ fr(1), fr(1), fr(1) ]  # 3개의 동일한 너비의 열로 설정
                                      grid_rows: [ fr(1), fr(1) ]  # 3개의 동일한 높이의 행으로 설정                                
                                      pad_row: 5px  # 각 행 간 간격을 20px로 설정 위아래
                                      pad_column: 5px  # 각 열 간 간격을 10px로 설정 죄우
                                      grid_column_align: SPACE_BETWEEN  # 열 간 간격 동일하게 배치
                                      grid_row_align: SPACE_BETWEEN  # 행 간 간격 동일하게 배치

                                    widgets:  
                                
                                      # 첫 번째 버튼 (날씨 조명)
                                      # - button:
                                      - button:
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 0
                                          height: 100 #120
                                          width: 130 #130
                                          styles: style_button
                                          on_press:
                                            then:
                                              - lvgl.page.show: menu_page
                                              - delay: 500ms
                                              - lvgl.tabview.select:
                                                  id: widgets_page_tap
                                                  index: 0
                                                  animated: true

                                              - lambda: |-
                                                  static bool toggle_state = false;
                                                  toggle_state = !toggle_state;
                                                  auto label = id(button_name_color_tab_home_change1);  // Label의 ID 참조
                                                  if (toggle_state) {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                  } else {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                  }                                                      
                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                text: "\U000F1443"  # time
                                                text_font: icon_font_50
                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: "시계"
                                                text_font: font_20
                                                id: button_name_color_tab_home_change1
            
                                            

                                      # 두 번째 버튼 (라디오)
                                      - button:
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 1
                                          height: 100 #120
                                          width: 130 #130
                                          styles: style_button
                                          on_press:
                                            then:
                                              - lvgl.page.show: menu_page
                                              - delay: 500ms
                                              - lvgl.tabview.select:
                                                  id: widgets_page_tap
                                                  index: 2 
                                                  animated: true

                                              - lambda: |-
                                                  static bool toggle_state = false;
                                                  toggle_state = !toggle_state;
                                                  auto label = id(button_name_color_tab_home_change2);  // Label의 ID 참조
                                                  if (toggle_state) {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                  } else {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                  }                                                             
                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                text: "\U000F07C1" # dip switch
                                                text_font: icon_font_50
                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: "조명"
                                                text_font: font_20    
                                                id: button_name_color_tab_home_change2

                                      # 세 번째 버튼 (센서)
                                      - button:
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 2
                                          height: 100 #120
                                          width: 130 #130
                                          styles: style_button
                                          on_press:
                                            then:
                                              - lvgl.page.show: menu_page
                                              - delay: 500ms
                                              - lvgl.tabview.select:
                                                  id: widgets_page_tap
                                                  index: 3
                                                  animated: true

                                              - lambda: |-
                                                  static bool toggle_state = false;
                                                  toggle_state = !toggle_state;
                                                  auto label = id(button_name_color_tab_home_change3);  // Label의 ID 참조
                                                  if (toggle_state) {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                  } else {
                                                      lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                  }                                                               
                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                
                                                text: "\U000F1C6D" # "\U000F1C6D", # INFO icon
                                                text_font: icon_font_50
                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: "정보"
                                                text_font: font_20
                                                id: button_name_color_tab_home_change3

                                      # 세 번째 버튼 (센서)
                                      
                                      # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 0
                                          height: 100
                                          width: 130
                                          id: btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_light_bookroom_sw2} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_tab_home_change4);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }          
                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                text: "\U000F097E" ## 스위치 아이콘
                                                text_font: icon_font_50
                                                id: lbl_btn_light_bookroom1
                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: ${entity_id_light_bookroom_sw2_name} ##"서재불sw"
                                                text_font: font_20
                                                id: button_name_color_tab_home_change4

 

                                      # 세 번째 버튼 (센서)
                                    
                                      - button:
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 1
                                          height: 100 #120
                                          width: 130 #130
                                          styles: style_button
                                          id: btn_computer_on
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.turn_on
                                                data:
                                                  entity_id: ${entity_id_computer_switch}  # 컴퓨터 스위치 ON

                                            - homeassistant.service: 
                                                service: switch.turn_on
                                                data:
                                                  entity_id: ${entity_id_monitor_plug_switch}  # 모니터 플러그 ON

                                            - homeassistant.service: 
                                                service: switch.turn_on ### on 동작시
                                                data:
                                                  entity_id: ${entity_id_computer_amp_on_esp32}  # 앰프 ON

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_tab_home_change5);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }        
 

                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                text: "\U000F097E" ## 스위치20 icon
                                                text_font: icon_font_50
                                                id: lbl_btn_computer_on

                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: "컴퓨터on"
                                                text_font: font_20
                                                id: "button_name_color_tab_home_change5"
 

                                      - button:
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 2
                                          height: 100 #120
                                          width: 130 #130
                                          styles: style_button
                                          id: btn_computer_off
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.turn_off
                                                data:
                                                  entity_id: ${entity_id_computer_switch}  # 컴퓨터 스위치 ON

                                            - homeassistant.service: 
                                                service: switch.turn_off
                                                data:
                                                  entity_id: ${entity_id_monitor_plug_switch}  # 모니터 플러그 ON

                                            - homeassistant.service: ### off 동작시 
                                                service: switch.turn_off
                                                data:
                                                  entity_id: ${entity_id_computer_amp_off_esp32}  # 앰프 ON

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_tab_home_change6);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }        
                                                   
 
                                          widgets:
                                            - label:
                                                y: -5
                                                align: TOP_MID
                                                text: "\U000F1A24" ## 스위치20 switch off icon
                                                text_font: icon_font_50
                                                id: lbl_btn_computer_off
                                            - label:
                                                y: 5
                                                align: BOTTOM_MID
                                                text: "컴퓨터off"
                                                text_font: font_20      
                                                id: button_name_color_tab_home_change6

## ============  추가적으로 계속복사 메뉴 복사 =========================
                  - name: "\U000F0335" 
                    id: Right_tab
# ==================>=================================================              
# ==================>=================================================              
                    widgets:
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_time
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
### 999999999999999999999999999999999999999999999999999999999999999999999999999999
                          - obj:
                              x: 0
                              y: 0
                              align: TOP_MID          
                              bg_color: 0x000000
                              bg_opa: 30%
                              styles: style_time
                              width: 100%
                              height: 270
                              widgets:          
##### 9999999999999999999999999999999999999999999999999999999999999999999999999999
                                - label:
                                    align: TOP_MID
                                    y: 0 # distance down from top
                                    text: '@tab_Right'
                                    text_color: 0x00FFFF   
                                    text_font: font_15
# -----------------------------------------------------------
          #  "\U000F0335", # mdi:lightbulb  U000F0335
          # "\U000F1A24", ## 스위치20 switch off icon
          # "\U000F1A3A",  # fan
        
                                - obj:
                                    x: 0
                                    y: 10
                                    align: TOP_LEFT
                                    styles: style_icon
                                    width: 100%
                                    height: 270 # tabview 의 제외 영역

                                    # 레이아웃을 3행 3열로 설정합니다.
                                    layout:
                                      type: grid      
                                      grid_columns: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 너비의 열로 설정
                                      grid_rows: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 높이의 행으로 설정                                
                                      pad_row: 2px  # 각 행 간 간격을 20px로 설정 위아래
                                      pad_column: 5px  # 각 열 간 간격을 10px로 설정 죄우
                                      grid_column_align: SPACE_BETWEEN  # 열 간 간격 동일하게 배치
                                      grid_row_align: SPACE_BETWEEN  # 행 간 간격 동일하게 배치

                                    widgets:  
    
                                      # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 100
                                          id: btn_light_1 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: light.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_1}
                                                  
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change1);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_1 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_1} #
                                                text_font: font_20
                                                id: button_name_color_sw_light_change1

                                       # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 1
                                          height: 50
                                          width: 100
                                          id: btn_light_2 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: light.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_2} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용
                                                  
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change2);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    


                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_2 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_2} #
                                                text_font: font_20
                                                id: button_name_color_sw_light_change2

                                       # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 2
                                          height: 50
                                          width: 100
                                          id: btn_light_3 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: light.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_3} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용
    
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change3);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_3 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_3} #
                                                text_font: font_20
                                                id: button_name_color_sw_light_change3
                                       # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 3
                                          height: 50
                                          width: 100
                                          id: btn_light_4 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: light.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_4} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change4);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_4 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_4} #
                                                text_font: font_20
                                                id: button_name_color_sw_light_change4
                                       # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 100
                                          id: btn_light_5 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: light.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_5} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change5);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_5 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_5} #
                                                text_font: font_20
                                                id: button_name_color_sw_light_change5

                                       # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 1
                                          height: 50
                                          width: 100
                                          id: btn_light_6 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_6} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change6);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_6 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_6} #
                                                text_font: font_20          
                                                id: button_name_color_sw_light_change6

                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 2
                                          height: 50
                                          width: 100
                                          id: btn_light_7 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_7} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change7);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_7 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_7} #
                                                text_font: font_20         
                                                id: button_name_color_sw_light_change7

                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 3
                                          height: 50
                                          width: 100
                                          id: btn_light_8 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_8} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change8);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_8 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_8} #
                                                text_font: font_20 
                                                id: button_name_color_sw_light_change8          
                                      - button: 
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 100
                                          id: btn_light_9 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_9} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change9);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    

                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_9 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_9} #
                                                text_font: font_20        
                                                id: button_name_color_sw_light_change9

                                      - button: 
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 1
                                          height: 50
                                          width: 100
                                          id: btn_light_10 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_10} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change10);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                                
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_10 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_10} #
                                                text_font: font_20       
                                                id: button_name_color_sw_light_change10

                                      - button: 
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 2
                                          height: 50
                                          width: 100
                                          id: btn_light_11 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_11} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change11);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                                
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_11 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_11} #
                                                text_font: font_20        
                                                id: button_name_color_sw_light_change11

                                      - button: 
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 3
                                          height: 50
                                          width: 100
                                          id: btn_light_12 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_12} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change12);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_12 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_12} #
                                                text_font: font_20   
                                                id: button_name_color_sw_light_change12    

                                      - button: 
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 100
                                          id: btn_light_13 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_13} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change13);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_13 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_13} #
                                                text_font: font_20      
                                                id: button_name_color_sw_light_change13  

                                      - button: 
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 1
                                          height: 50
                                          width: 100
                                          id: btn_light_14 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_14} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change14);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_14 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_14} #
                                                text_font: font_20      
                                                id: button_name_color_sw_light_change14  

                                                
                                      - button: 
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 2
                                          height: 50
                                          width: 100
                                          id: btn_light_15 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_15} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change15);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_15 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_15} #
                                                text_font: font_20        
                                                id: button_name_color_sw_light_change15

                                      - button: 
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 3
                                          height: 50
                                          width: 100
                                          id: btn_light_16 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_light_16} # switch.seojae_bul_left_2 "switch.seojae_bul_left_2"  # Home Assistant 엔티티를 직접 사용

                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_light_change16);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }    
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_light_16 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_light_name_16} #
                                                text_font: font_20        
                                                id: button_name_color_sw_light_change16



## ============  추가적으로 계속복사 메뉴 복사 ========================= U000F097E
                  - name: "\U000F1A25" 
                    id: switch_tab
# ==================>=================================================              
# ==================>=================================================              
                    widgets:
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_time
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
### 999999999999999999999999999999999999999999999999999999999999999999999999999999
                          - obj:
                              x: 0
                              y: 0
                              align: TOP_MID          
                              bg_color: 0x000000
                              bg_opa: 30%
                              styles: style_time
                              width: 100%
                              height: 270
                              widgets:          
##### 9999999999999999999999999999999999999999999999999999999999999999999999999999
                                - label:
                                    align: TOP_MID
                                    y: 0 # distance down from top
                                    text: '@tab_switch'
                                    text_color: 0x00FFFF   
                                    text_font: font_15
# -----------------------------------------------------------
          #  "\U000F0335", # mdi:lightbulb  U000F0335
          # "\U000F1A24", ## 스위치20 switch off icon
          # "\U000F1A3A",  # fan
        
                                - obj:
                                    x: 0
                                    y: 10
                                    align: TOP_LEFT
                                    styles: style_icon
                                    width: 100%
                                    height: 270 # tabview 의 제외 영역

                                    # 레이아웃을 3행 3열로 설정합니다.
                                    layout:
                                      type: grid      
                                      grid_columns: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 너비의 열로 설정
                                      grid_rows: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 높이의 행으로 설정                                
                                      pad_row: 2px  # 각 행 간 간격을 20px로 설정 위아래
                                      pad_column: 5px  # 각 열 간 간격을 10px로 설정 죄우
                                      grid_column_align: SPACE_BETWEEN  # 열 간 간격 동일하게 배치
                                      grid_row_align: SPACE_BETWEEN  # 행 간 간격 동일하게 배치

                                    widgets:  
    
                                      # 버튼 설정
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 100
                                          id: btn_switch_1 # btn_light_bookroom1
                                          styles: 
                                            - style_button
                                          on_press: 
                                            - homeassistant.service: 
                                                service: switch.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_switch_1} # 
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_sw_change1);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }       
                                          widgets:
                                            - label:
                                                y: -10
                                                align: TOP_MID
                                                text: "\U000F0335" ## lightbulb 아이콘
                                                text_font: icon_font_30
                                                id: lbl_btn_switch_1 # lbl_btn_light_bookroom1
                                            - label:
                                                y: 10
                                                align: BOTTOM_MID
                                                text: ${entity_id_lbl_btn_switch_name_1} # lbl_btn_switch_1
                                                text_font: font_20
                                                id: button_name_color_sw_change1

## ============  추가적으로 계속복사 메뉴 복사 =========================
                  - name: "\U000F0F54" # 보일러 \U000F097E" # "\U000F097E" ## 스위치20 icon 
                    id: climate_tab
# ==================>=================================================              
# ==================>=================================================              
                    widgets:

                          
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_time
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
### 999999999999999999999999999999999999999999999999999999999999999999999999999999 climate.imazu_36_thermostat_1_1

                          - obj:
                              x: 0
                              y: 0
                              align: TOP_MID          
                              bg_color: 0x000000
                              bg_opa: 30%
                              styles: style_time
                              width: 100%
                              height: 270
                              widgets:         
##### 9999999999999999999999999999999999999999999999999999999999999999999999999999
                                - label:
                                    align: TOP_MID
                                    y: 2 # distance down from top
                                    text: '@tab_climate' 
                                    text_color: 0x00FFFF   
                                    text_font: font_15

                                - obj:
                                    x: 0
                                    y: 10
                                    align: TOP_LEFT
                                    styles: style_icon
                                    width: 210
                                    height: 250 # tabview 의 제외 영역

                                    # 레이아웃을 3행 3열로 설정합니다.
                                    layout:
                                      type: grid      
                                      grid_columns: [ fr(1) ]  # 3개의 동일한 너비의 열로 설정
                                      grid_rows: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 높이의 행으로 설정                                
                                      pad_row: 2px  # 각 행 간 간격을 20px로 설정 위아래
                                      pad_column: 5px  # 각 열 간 간격을 10px로 설정 죄우
                                      grid_column_align: SPACE_BETWEEN  # 열 간 간격 동일하게 배치
                                      grid_row_align: SPACE_BETWEEN  # 행 간 간격 동일하게 배치
                                    widgets:  
 # 88888 ====================================================================================
                                      - button: 
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 200  
                                          id: btn_climate_1
                                          styles: 
                                            - style_button
                                          # on_short_click:
                                          on_press:   
                                            - homeassistant.action:
                                                action: climate.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_1}    #entity_id: climate.485_ttl_esp32_ip109_boiler_book_room # entity_id  =====================================
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_change1);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }
                                                

                                          widgets:
                                            - label:
                                                x: -20
                                                y: 0                                              
                                                id: lbl_btn_climate_1
                                                align: LEFT_MID  # Center the label vertically and horizontally                                    
                                                text_font: font_30  # Adjust text font size
                                                text: "\U000F0425" # POWER ICON F0425  
                                                text_align: LEFT
                                                text_color: 0xFF0000
                                            - label:
                                                x: -20
                                                y: 0
                                                align: CENTER
                                                text: ${entity_id_lbl_btn_climate_name_1} # "서재"
                                                id: button_name_color_change1
                                                text_font: font_20
                                                text_color: 0xFFFFFF
                                                text_align: CENTER
                                                
                                                # styles: style_card
                                            - label:
                                                id: current_climate_censor_txt_1
                                                x: 15
                                                y: 0
                                                align: RIGHT_MID
                                                text: "26C"  # 현제 온도
                                                text_font: font_30
                                                text_color: 0xFFFF00
                                                text_align: RIGHT
# # 88888 ==================================================================================== 99999999999999
  
 # 88888 ====================================================================================
                                      - button: 
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 200  
                                          id: btn_climate_2
                                          styles: 
                                            - style_button
                                          on_press:
                                            - homeassistant.action:
                                                action: climate.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_2} 
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_change2);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }                                                  
                                          widgets:
                                            - label:
                                                x: -20
                                                y: 0                                              
                                                id: lbl_btn_climate_2
                                                align: LEFT_MID  # Center the label vertically and horizontally                                    
                                                text_font: font_30  # Adjust text font size
                                                text: "\U000F0425" # POWER ICON F0425  
                                                text_align: LEFT
                                                text_color: 0xFF0000
                                            - label:
                                                x: -20
                                                y: 0
                                                align: CENTER
                                                text: ${entity_id_lbl_btn_climate_name_2} # "서재"
                                                id: button_name_color_change2
                                                text_font: font_20
                                                text_color: 0xFFFFFF
                                                text_align: CENTER
                                                # styles: style_card
                                            - label:
                                                id: current_climate_censor_txt_2
                                                x: 15
                                                y: 0
                                                align: RIGHT_MID
                                                text: "26C"  # 현제 온도
                                                text_font: font_30
                                                text_color: 0xFFFF00
                                                text_align: RIGHT
# 88888 ==================================================================================== 99999999999999
 # 88888 ====================================================================================
                                      - button: 
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 200  
                                          id: btn_climate_3
                                          styles: 
                                            - style_button
                                          on_press:
                                            - homeassistant.action:
                                                action: climate.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_3}  
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_change3);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }                                                  
                                          widgets:
                                            - label:
                                                x: -20
                                                y: 0                                              
                                                id: lbl_btn_climate_3
                                                align: LEFT_MID  # Center the label vertically and horizontally                                    
                                                text_font: font_30  # Adjust text font size
                                                text: "\U000F0425" # POWER ICON F0425  
                                                text_align: LEFT
                                                text_color: 0xFF0000
                                            - label:
                                                x: -20
                                                y: 0
                                                align: CENTER
                                                text: ${entity_id_lbl_btn_climate_name_3} # "서재"
                                                text_font: font_20
                                                text_color: 0xFFFFFF
                                                text_align: CENTER
                                                id: button_name_color_change3
                                                # styles: style_card
                                            - label:
                                                id: current_climate_censor_txt_3
                                                x: 15
                                                y: 0
                                                align: RIGHT_MID
                                                text: "26C"  # 현제 온도
                                                text_font: font_30
                                                text_color: 0xFFFF00
                                                text_align: RIGHT
# 88888 ==================================================================================== 99999999999999
 # 88888 ====================================================================================
                                      - button: 
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 0
                                          height: 50
                                          width: 200  
                                          id: btn_climate_4
                                          styles: 
                                            - style_button
                                          on_press:
                                            - homeassistant.action:
                                                action: climate.toggle
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_4}
                                                  
                                            - lambda: |-
                                                static bool toggle_state = false;
                                                toggle_state = !toggle_state;
                                                auto label = id(button_name_color_change4);  // Label의 ID 참조
                                                if (toggle_state) {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0x0000FF), LV_PART_MAIN);  // green
                                                } else {
                                                    lv_obj_set_style_text_color(label, lv_color_hex(0xFFFF00), LV_PART_MAIN);  // 노랑
                                                }         

                                          widgets:
                                            - label:
                                                x: -20
                                                y: 0                                              
                                                id: lbl_btn_climate_4
                                                align: LEFT_MID  # Center the label vertically and horizontally                                    
                                                text_font: font_30  # Adjust text font size
                                                text: "\U000F0425" # POWER ICON F0425  
                                                text_align: LEFT
                                                text_color: 0xFF0000

                                            - label:
                                                x: -20
                                                y: 0
                                                align: CENTER
                                                text: ${entity_id_lbl_btn_climate_name_4} # "서재"
                                                text_font: font_20
                                                text_color: 0xFFFFFF
                                                text_align: CENTER
                                                id: button_name_color_change4
                                                # styles: style_card
                                            - label:
                                                id: current_climate_censor_txt_4
                                                x: 15
                                                y: 0
                                                align: RIGHT_MID
                                                text: "26C"  # 현제 온도
                                                text_font: font_30
                                                text_color: 0xFFFF00
                                                text_align: RIGHT
# 88888 ==================================================================================== 99999999999999
# 88888 ===============================2 열 스라이더 구성 ================================== 99999999999999
                                - obj:
                                    x: 10 # 260
                                    y: 20  #10
                                    align: TOP_MID
                                    styles: style_time
                                    width: 60
                                    height: 250 # tabview 의 제외 영역
 
                                    widgets:  
                                      - label:
                                          x: 0
                                          y: 0 
                                          id: slide_climate_txt_1 # UI TEXT 백라이트 밝기 표시                              
                                          text: "50C"
                                          text_font: font_30
                                          text_color: 0xFFA500
                                          align: TOP_LEFT    
                                      - label:
                                          x: 0
                                          y: 60 
                                          id: slide_climate_txt_2 # UI TEXT 백라이트 밝기 표시                              
                                          text: "50C"
                                          text_font: font_30
                                          text_color: 0xFFA500
                                          align: TOP_LEFT    
                                      - label:
                                          x: 0
                                          y: 125
                                          id: slide_climate_txt_3 # UI TEXT 백라이트 밝기 표시                              
                                          text: "50C"
                                          text_font: font_30
                                          text_color: 0xFFA500
                                          align: TOP_LEFT 
                                      - label:
                                          x: 0
                                          y: 190 
                                          id: slide_climate_txt_4 # UI TEXT 백라이트 밝기 표시                              
                                          text: "50C"
                                          text_font: font_30
                                          text_color: 0xFFA500
                                          align: TOP_LEFT 
# 88888 ==================================================================================== 99999999999999
#  # substitutions:
  # entity_id_lbl_btn_climate_1: "climate.ttlto485s3_ip85_boiler_big_room"
  # entity_id_lbl_btn_climate_name_1: "안방보일러"
 
  # entity_id_lbl_btn_climate_2: "climate.ttlto485s3_ip85_boiler_living_room"
  # entity_id_lbl_btn_climate_name_2: "거실보일러"

  # entity_id_lbl_btn_climate_3: "climate.ttlto485s3_ip85_boiler_book_room"
  # entity_id_lbl_btn_climate_name_3: "서재보일러"

  # entity_id_lbl_btn_climate_4: "climate.ttlto485s3_ip85_boiler_small_room"
  # entity_id_lbl_btn_climate_name_4: "작방보일러" 

                                - obj:
                                    x: 260
                                    y: 10
                                    align: TOP_LEFT
                                    styles: style_icon
                                    width: 200
                                    height: 250 # tabview 의 제외 영역
                                    # 레이아웃을 3행 3열로 설정합니다.
                                    layout:
                                      type: grid      
                                      grid_columns: [ fr(1) ]  # 3개의 동일한 너비의 열로 설정
                                      grid_rows: [ fr(1), fr(1), fr(1), fr(1) ]  # 3개의 동일한 높이의 행으로 설정                                
                                      pad_row: 2px  # 각 행 간 간격을 20px로 설정 위아래
                                      pad_column: 5px  # 각 열 간 간격을 10px로 설정 죄우
                                      grid_column_align: SPACE_BETWEEN  # 열 간 간격 동일하게 배치
                                      grid_row_align: SPACE_BETWEEN  # 행 간 간격 동일하게 배치
                                    widgets:  
 # 88888 ====================================================================================
 
                                      # - button: 
                                      - slider:
                                          x: 0  # x 좌표 조정
                                          grid_cell_row_pos: 0
                                          grid_cell_column_pos: 0  # 오른쪽 열에 배치
                                          height: 50
                                          width: 200 
                                          id: slide_climate_1
                                          styles: 
                                            - style_button
                                          pad_all: 8
                                          min_value: 7  # 보일러의 최소 온도
                                          max_value: 35  # 보일러의 최대 온도
                                          border_width: 1
                                          border_opa: 15%
                                          bg_color: 0xcccaca
                                          bg_opa: 15%                                
                                          indicator:
                                            bg_color: 0x2F8CD8
                                            bg_opa: COVER
                                            height: 40
                                          knob:
                                            bg_color: 0xFFFFFF                                                           
                                            bg_opa: COVER
                                            width: 45
                                            border_color: 0x0077b3        
                                            border_width: 5
                                            outline_width: 1
                                          on_release:
                                            - homeassistant.service:
                                                service: climate.set_temperature
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_1} # climate.485_ttl_esp32_ip109_boiler_big_room  # sensor  =====================================
                                                  temperature: !lambda 'return (float) lv_slider_get_value(id(slide_climate_1));'

                                            - lvgl.label.update: 
                                                id: slide_climate_txt_1  # sensor  =====================================
                                                text: !lambda |-
                                                  static char buf[15];
                                                  snprintf(buf, sizeof(buf), "%d°C", lv_slider_get_value(id(slide_climate_1))); 
                                                  return {buf};
 
                                          # on_load:
                                            - lambda: |-
                                                lv_obj_add_flag(lv_scr_act(), LV_OBJ_FLAG_CLICKABLE);
                              

                                      - slider:
                                          x: 0  # x 좌표 조정
                                          grid_cell_row_pos: 1
                                          grid_cell_column_pos: 0  # 오른쪽 열에 배치
                                          height: 50
                                          width: 200 
                                          id: slide_climate_2
                                          styles: 
                                            - style_button
                                          pad_all: 8
                                          min_value: 7  # 보일러의 최소 온도
                                          max_value: 35  # 보일러의 최대 온도
                                          border_width: 1
                                          border_opa: 15%
                                          bg_color: 0xcccaca
                                          bg_opa: 15%                                
                                          indicator:
                                            bg_color: 0x2F8CD8
                                            bg_opa: COVER
                                            height: 40
                                          knob:
                                            bg_color: 0xFFFFFF                                                           
                                            bg_opa: COVER
                                            width: 45
                                            border_color: 0x0077b3        
                                            border_width: 5
                                            outline_width: 1
                                          on_release:
                                            - homeassistant.service:
                                                service: climate.set_temperature
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_2} #  ============================
                                                  temperature: !lambda 'return (float) lv_slider_get_value(id(slide_climate_2));'

                                            - lvgl.label.update: 
                                                id: slide_climate_txt_2  # sensor  =====================================
                                                text: !lambda |-
                                                  static char buf[15];
                                                  snprintf(buf, sizeof(buf), "%d°C", lv_slider_get_value(id(slide_climate_2))); 
                                                  return {buf};

                                      
                                      - slider:
                                          x: 0  # x 좌표 조정
                                          grid_cell_row_pos: 2
                                          grid_cell_column_pos: 0  # 오른쪽 열에 배치
                                          height: 50
                                          width: 200 
                                          id: slide_climate_3
                                          styles: 
                                            - style_button
                                        
                                          pad_all: 8
                                          min_value: 7  # 보일러의 최소 온도
                                          max_value: 35  # 보일러의 최대 온도
                                          border_width: 1
                                          border_opa: 15%
                                          bg_color: 0xcccaca
                                          bg_opa: 15%                      

                                          indicator:
                                            bg_color: 0x2F8CD8
                                            bg_opa: COVER
                                            height: 40
                                          knob:
                                            bg_color: 0xFFFFFF                                                           
                                            bg_opa: COVER
                                            width: 45
                                            border_color: 0x0077b3        
                                            border_width: 5
                                            outline_width: 1
                                          on_release:
                                            - homeassistant.service:
                                                service: climate.set_temperature
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_3} #  ============================
                                                  temperature: !lambda 'return (float) lv_slider_get_value(id(slide_climate_3));'

                                            - lvgl.label.update: 
                                                id: slide_climate_txt_3  # sensor  =====================================
                                                text: !lambda |-
                                                  static char buf[15];
                                                  snprintf(buf, sizeof(buf), "%d°C", lv_slider_get_value(id(slide_climate_3))); 
                                                  return {buf};

                                      - slider:
                                          x: 0  # x 좌표 조정
                                          grid_cell_row_pos: 3
                                          grid_cell_column_pos: 0  # 오른쪽 열에 배치
                                          height: 50
                                          width: 200 
                                          id: slide_climate_4
                                          styles: 
                                            - style_button
                                        
                                          pad_all: 8
                                          min_value: 7  # 보일러의 최소 온도
                                          max_value: 35  # 보일러의 최대 온도
                                          border_width: 1
                                          border_opa: 15%
                                          bg_color: 0xcccaca
                                          bg_opa: 15%                                
                                          indicator:
                                            bg_color: 0x2F8CD8
                                            bg_opa: COVER
                                            height: 40
 
                                          knob:
                                            bg_color: 0xFFFFFF                                                           
                                            bg_opa: COVER
                                            width: 45
                                            border_color: 0x0077b3        
                                            border_width: 5
                                            outline_width: 1

                                          on_release:
                                            - homeassistant.service:
                                                service: climate.set_temperature
                                                data:
                                                  entity_id: ${entity_id_lbl_btn_climate_4} #  ============================
                                                  temperature: !lambda 'return (float) lv_slider_get_value(id(slide_climate_4));'

                                            - lvgl.label.update: 
                                                id: slide_climate_txt_4  # sensor  =====================================
                                                text: !lambda |-
                                                  static char buf[15];
                                                  snprintf(buf, sizeof(buf), "%d°C", lv_slider_get_value(id(slide_climate_4))); 
                                                  return {buf};


## ============  추가적으로 계속복사 메뉴 복사 =========================
                  - name: "\U000F151B"
                    id: info_tab
# ==================>=================================================              
# ==================>=================================================              
                    widgets:
                    - obj:
                        x: -5
                        y: 5
                        align: TOP_LEFT          
                        bg_color: 0x000000
                        bg_opa: 30%
                        styles: style_card
                        width: 100%
                        height: 270 # tabview 의 제외 영역
                        widgets:  
### 999999999999999999999999999999999999999999999999999999999999999999999999999999
                          - obj:
                              x: 0
                              y: 0
                              align: TOP_MID          
                              styles: style_time
                              width: 100%
                              height: 260
                              widgets:        
##### 9999999999999999999999999999999999999999999999999999999999999999999999999999 update_date
                                - label:
                                    align: TOP_MID
                                    y: 2 # distance down from top
                                    text: "@tab_info"
                                    text_color: 0x00FFFF   
                                    text_font: font_15
 
#------------------------------------------------------
                                - spinner:
                                    align: TOP_LEFT
                                    x: 10
                                    y: 100
                                    spin_time: 5s
                                    arc_length: 20deg
                                    arc_color: 0xff0000  # 빨강 (Red)
                                    id: spinner_id
                                    indicator:
                                      arc_color: 0x00ff00  # 초록 (Green)
                                    styles: style_time

                                - spinner:
                                    align: TOP_MID
                                    x: 10
                                    y: 100
                                    spin_time: 5s
                                    arc_length: 20deg
                                    arc_color: 0x00ff00  # 초록 (Green) ## 0x0000ff  # 파랑 (Red)
                                    id: spinner_id2
                                    indicator:
                                      arc_color: 0x0000ff  # 파랑 (Blue)
                                    styles: style_time  
      
                                - spinner:
                                    align: TOP_RIGHT
                                    x: 10
                                    y: 100
                                    spin_time: 5s
                                    arc_length: 20deg
                                    arc_color: 0x0000ff  # 파랑 (Blue)
                                    id: spinner_id3
                                    indicator:
                                      arc_color: 0xff0000  # 빨강 (Red)
                                    styles: style_time  
 

# -----------------------------------------------------
                                - label:
                                    x: 0
                                    y: 30
                                    align: TOP_MID
                                    text: ${update_date} # 버전표기
                                    text_font: font_30
                                    text_color: 0xFFFFFF
                                    text_align: CENTER
                                    # styles: style_card]
                                    styles: style_time

                                - label:
                                    x: 0
                                    y: 80
                                    align: TOP_MID
                                    text: "esphome_version" #  esp32 버전
                                    text_font: font_20
                                    text_color: 0xFFFFFF
                                    text_align: CENTER
                                    id: install_esphome_version_txt
                                    styles: style_time                                    
                                  # esphome_version: "sensor.3_display_ip93_esphome_version"

                                - button:
                                    align: TOP_LEFT
                                    x: 30
                                    y: 120
                                    width: 180
                                    height: 50
                                    bg_color: 0x2F8CD8
                                    outline_width: 1
                                    widgets:
                                      - label:
                                          align: LEFT_MID  # Center the label vertically and horizontally                                    
                                          text_font: font_30  # Adjust text font size
                                          text: "\U000F0D90" #U000F0425" # POWER ICON F0425  
                                          text_align: LEFT
                                          text_color: 0xFF0000       
                                          x: -10                               
                                      - label:
                                          align: RIGHT_MID
                                          text: "backlight_off"
                                          text_font: font_20
                                          text_color: 0xFFFFFF                                

                                    on_press:   
                                      - switch.turn_off:   # 
                                          id: backlight_switch_id          
                                                                                   

                                - slider:
                                    x: 220
                                    y: 120
                                    align: TOP_LEFT
                                    id: slide_brightness
                                    width: 200
                                    height: 50
                                    value: !lambda return id(backlight_brightness_number).state;
                                    pad_all: 2
                                    min_value: 10
                                    max_value: 90 
                                    border_width: 1
                                    border_opa: 15%
                                    bg_color: 0xcccaca
                                    bg_opa: 15%                                
                                    indicator:
                                      bg_color: 0x2F8CD8
                                      bg_opa: COVER
                                      height: 40
                                    knob:
                                      bg_color: 0xFFFFFF  #2F8CD8                                                            
                                      bg_opa: COVER
                                      width: 45
                                      border_color: 0x0077b3        
                                      border_width: 5
                                      outline_width: 1                              

                                    on_release:
                                      then:
                                      - light.control:
                                          id: backlight_light_id
                                          brightness: !lambda return x / 100;

                                      - number.set:
                                          id: backlight_brightness_number
                                          value: !lambda return x;

# -------------------------------------------------------------
                                - button:
                                    align: TOP_LEFT
                                    x: 30
                                    y: 190 
                                    width: 180
                                    height: 50
                                    bg_color: 0x2F8CD8
                                    outline_width: 1
                                    widgets:
                                      - label:
                                          align: CENTER
                                          text: "Reboot"
                                              # "재시작 > AP가 작동하지 않고 와이파이 신호가 약함시 재부팅"
                                          text_font: font_30
                                          text_color: 0xFFFFFF                                

                                    on_press:   
                                      - switch.turn_on:   # 재시작배부팅 동작 restart_node
                                          id: restart_id    
                                - label:
                                    x: 280
                                    y: 200 
                                    id: back_light_in_text # UI TEXT 백라이트 밝기 표시                              
                                    text: "50%"
                                    text_font: font_40
                                    text_color: 0xFFA500
                                    align: TOP_LEFT      
        
                                                                                             
# ------------------------------------------------------------
# ====^===============================================================  
# 터치시 화면 이동 방지 pages: id의 widgets 기준으로 제일 마지막에 추가합니다 
      on_load:
        - lambda: |-
            // 전체 화면 클릭 방지
            lv_obj_clear_flag(lv_scr_act(), LV_OBJ_FLAG_CLICKABLE);

            // 탭바 클릭 허용
            lv_obj_add_flag(id(widgets_page_tap), LV_OBJ_FLAG_CLICKABLE);

            // 탭 전환 제스처 막기 (탭뷰의 내부 컨테이너에 플래그 제거)
            lv_obj_t *content = lv_tabview_get_content(id(widgets_page_tap));
            lv_obj_clear_flag(content, LV_OBJ_FLAG_SCROLLABLE);  // 스와이프 방지
# ====^===============================================================  
 
# output:
#   - platform: ledc
#     pin: GPIO1
#     id: backlight

# light:
#   - platform: monochromatic
#     output: backlight
#     name: "backlight Light" 
#     restore_mode: ALWAYS_ON          
# id: backlight_Light                    

 
